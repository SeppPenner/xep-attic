<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>XEP-0301: In-Band Real Time Text</title><link rel="stylesheet" type="text/css" href="../xmpp.css" /><link href="../prettify.css" type="text/css" rel="stylesheet" /><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" /><script type="text/javascript" src="../prettify.js"></script><meta name="DC.Title" content="In-Band Real Time Text" /><meta name="DC.Creator" content="Mark Rejhon" /><meta name="DC.Description" content="This is a specification for real-time text transmitted in-band over an XMPP session." /><meta name="DC.Publisher" content="XMPP Standards Foundation" /><meta name="DC.Contributor" content="XMPP Extensions Editor" /><meta name="DC.Date" content="2012-03-19" /><meta name="DC.Type" content="XMPP Extension Protocol" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="XEP-0301" /><meta name="DC.Language" content="en" /><meta name="DC.Rights" content="This XMPP Extension Protocol is copyright &#xA9; 1999 - 2012 by the XMPP Standards Foundation (XSF)." /></head><body onload="prettyPrint()"><h1>XEP-0301: In-Band Real Time Text</h1><table><tr valign="top"><td><strong>Abstract:</strong></td><td>This is a specification for real-time text transmitted in-band over an XMPP session.</td></tr><tr valign="top"><td><strong>Author:</strong></td><td>Mark Rejhon</td></tr><tr valign="top"><td><strong>Copyright:</strong></td><td>© 1999 - 2012 XMPP Standards Foundation. <a href="#appendix-legal">SEE LEGAL NOTICES</a>.</td></tr><tr valign="top"><td><strong>Status:</strong></td><td>Experimental</td></tr><tr valign="top"><td><strong>Type:</strong></td><td>Standards Track</td></tr><tr valign="top"><td><strong>Version:</strong></td><td>0.2</td></tr><tr valign="top"><td><strong>Last Updated:</strong></td><td>2012-03-19</td></tr></table><hr /><p style="color:red">WARNING: This Standards-Track document is Experimental. Publication as an XMPP Extension Protocol does not imply approval of this proposal by the XMPP Standards Foundation. Implementation of the protocol described herein is encouraged in exploratory implementations, but production systems are advised to carefully consider whether it is appropriate to deploy implementations of this protocol before it advances to a status of Draft.</p><hr /><h2>Table of Contents</h2><div class="indent"><p><br />1.  <a href="#introduction">Introduction</a><br />2.  <a href="#requirements">Requirements</a><br />   
      2.1.  <a href="#fluid_realtime_text">Fluid Real-Time Text</a><br />   
      2.2.  <a href="#inband_transmission">In-Band Transmission</a><br />   
      2.3.  <a href="#flexible_and_interoperable">Flexible and Interoperable</a><br />   
      2.4.  <a href="#accessible">Accessible</a><br />3.  <a href="#glossary">Glossary</a><br />4.  <a href="#protocol">Protocol</a><br />   
      4.1.  <a href="#rtt_element">RTT Element</a><br />   
      4.2.  <a href="#rtt_attributes">RTT Attributes</a><br />      
      4.2.1.  <a href="#seq">seq</a><br />      
      4.2.2.  <a href="#event">event</a><br />   
      4.3.  <a href="#body_element">Body Element</a><br />      
      4.3.1.  <a href="#backwards_compatible">Backwards Compatible</a><br />   
      4.4.  <a href="#transmission_interval">Transmission Interval</a><br />   
      4.5.  <a href="#realtime_message_editing">Real-Time Message Editing</a><br />      
      4.5.1.  <a href="#summary_of_action_elements">Summary of Action Elements</a><br />      
      4.5.2.  <a href="#rules_for_attribute_values">Rules for Attribute Values</a><br />      
      4.5.3.  <a href="#action_elements">Action Elements</a><br />        
      4.5.3.1.  <a href="#element_t_insert_text">Element &lt;t/&gt; – Insert Text</a><br />        
      4.5.3.2.  <a href="#element_e_backspace">Element &lt;e/&gt; – Backspace</a><br />        
      4.5.3.3.  <a href="#element_d_forward_delete">Element &lt;d/&gt; – Forward Delete</a><br />        
      4.5.3.4.  <a href="#element_w_interval">Element &lt;w/&gt; – Interval</a><br />      
      4.5.4.  <a href="#ensuring_accuracy_of_attribute_values">Ensuring Accuracy Of Attribute Values</a><br />      
      4.5.5.  <a href="#unicode_character_counting">Unicode Character Counting</a><br />   
      4.6.  <a href="#automatic_recovery_of_realtime_text">Automatic Recovery of Real-Time Text</a><br />      
      4.6.1.  <a href="#staying_in_sync">Staying In Sync</a><br />      
      4.6.2.  <a href="#detecting_loss_of_sync">Detecting Loss of Sync</a><br />      
      4.6.3.  <a href="#recovery_from_loss_of_sync">Recovery From Loss of Sync</a><br />      
      4.6.4.  <a href="#message_retransmission">Message Retransmission</a><br />5.  <a href="#determining_support">Determining Support</a><br />6.  <a href="#implementation_notes">Implementation Notes</a><br />   
      6.1.  <a href="#text_presentation">Text Presentation</a><br />      
      6.1.1.  <a href="#avoid_bursty_text_presentation">Avoid Bursty Text Presentation</a><br />      
      6.1.2.  <a href="#preserving_key_press_intervals">Preserving Key Press Intervals</a><br />      
      6.1.3.  <a href="#time_critical_and_low_latency_methods">Time Critical And Low Latency Methods</a><br />      
      6.1.4.  <a href="#reduced_precision_text_smoothing_methods">Reduced Precision Text Smoothing Methods</a><br />   
      6.2.  <a href="#realtime_transmission">Real-Time Transmission</a><br />      
      6.2.1.  <a href="#monitoring_message_edits">Monitoring Message Edits</a><br />      
      6.2.2.  <a href="#guidelines_for_senders">Guidelines for Senders</a><br />      
      6.2.3.  <a href="#guidelines_for_receivers">Guidelines for Receivers</a><br />   
      6.3.  <a href="#optional_remote_cursor">Optional Remote Cursor</a><br />      
      6.3.1.  <a href="#calculating_cursor_position">Calculating Cursor Position</a><br />      
      6.3.2.  <a href="#_guidelines_for_senders">Guidelines for Senders</a><br />   
      6.4.  <a href="#other_guidelines">Other Guidelines</a><br />      
      6.4.1.  <a href="#message_length_limit">Message Length Limit</a><br />      
      6.4.2.  <a href="#usage_with_chat_states">Usage With Chat States</a><br />      
      6.4.3.  <a href="#usage_with_multiuser_chat_and_simultaneous_logins">Usage With Multi-User Chat and Simultaneous Logins</a><br />        
      6.4.3.1.  <a href="#multiuser_chat">Multi-User Chat</a><br />        
      6.4.3.2.  <a href="#simultaneous_logins">Simultaneous Logins</a><br />      
      6.4.4.  <a href="#performance_efficiency">Performance &amp; Efficiency</a><br />      
      6.4.5.  <a href="#total_conversation_combination_with_audio_and_video">Total Conversation – Combination With Audio And Video</a><br />7.  <a href="#use_cases">Use Cases</a><br />   
      7.1.  <a href="#three_backspaces">Three Backspaces</a><br />   
      7.2.  <a href="#three_backspaces_in_one_action_element">Three Backspaces In One Action Element</a><br />   
      7.3.  <a href="#message_edits_split_into_multiple_transmissions">Message Edits Split Into Multiple Transmissions</a><br />   
      7.4.  <a href="#deleting_text_from_message">Deleting Text From Message</a><br />   
      7.5.  <a href="#inserting_text_into_message">Inserting Text Into Message</a><br />   
      7.6.  <a href="#deleting_and_replacing_text_in_message">Deleting And Replacing Text In Message</a><br />   
      7.7.  <a href="#multiple_message_edits">Multiple Message Edits</a><br />   
      7.8.  <a href="#three_consecutive_messages">Three Consecutive Messages</a><br />   
      7.9.  <a href="#full_message_including_key_press_intervals">Full Message Including Key Press Intervals</a><br />8.  <a href="#interoperability_considerations">Interoperability Considerations</a><br />   
      8.1.  <a href="#other_realtime_text_standards">Other Real-Time Text Standards</a><br />   
      8.2.  <a href="#rfc_4103_and_t140">RFC 4103 and T.140</a><br />9.  <a href="#internationalization_considerations">Internationalization Considerations</a><br />10.  <a href="#security_considerations">Security Considerations</a><br />   
      10.1.  <a href="#privacy">Privacy</a><br />   
      10.2.  <a href="#congestion_considerations">Congestion Considerations</a><br />11.  <a href="#iana_considerations">IANA Considerations</a><br />12.  <a href="#xmpp_registrar_considerations">XMPP Registrar Considerations</a><br />   
      12.1.  <a href="#protocol_namespaces">Protocol Namespaces</a><br />   
      12.2.  <a href="#namespace_versioning">Namespace Versioning</a><br />13.  <a href="#xml_schema">XML Schema</a></p><p><a href="#appendices">Appendices</a><br />    <a href="#appendix-docinfo">A: Document Information</a><br />    <a href="#appendix-authorinfo">B: Author Information</a><br />    <a href="#appendix-legal">C: Legal Notices</a><br />    <a href="#appendix-xmpp">D: Relation to XMPP</a><br />    <a href="#appendix-discuss">E: Discussion Venue</a><br />    <a href="#appendix-conformance">F: Requirements Conformance</a><br />    <a href="#appendix-notes">G: Notes</a><br />    <a href="#appendix-revs">H: Revision History</a></p></div><hr /><h2>1.
       <a name="introduction" id="introduction">Introduction</a></h2>
    <p><span class="strong">Real-time text is text transmitted live while it is being typed or created.</span> The recipient can immediately read the sender's typing, without waiting before reading. This is similar to a telephone conversation where one listens "as words are spoken". This allows text to be used conversationally, provides a sense of contact, eliminates waiting times found in messaging, and is favored by deaf individuals who prefer text conversation. For a visual animation of real-time text, see <span class="ref"><span class="strong"><a href="http://www.realjabber.org">RealJabber.org</a></span></span>
   [<a href="#nt-id328528">1</a>].</p>
    <p>Real-time text has been around for decades in various implementations:</p>
    <ul>
      <li>The 'talk' command on UNIX systems since the 1970's.</li>
      <li>ICQ had a peer-to-peer split screen mode from 1996-1999.</li>
      <li>TTY and text telephones for the deaf.</li>
      <li>For SIP, real-time text is sent using <span class="ref"><span class="strong"><a href="http://tools.ietf.org/html/rfc4103">IETF RFC 4103</a></span></span>  [<a href="#nt-id324509">2</a>] with <span class="ref"><span class="strong"><a href="http://www.itu.int/rec/T-REC-T.140">ITU-T T.140</a></span></span>  [<a href="#nt-id324529">3</a>] presentation coding.</li>
      <li>In 2008, AOL AIM 6.8 gained the <span class="ref"><span class="strong"><a href="http://help.aol.com/help/microsites/microsite.do?cmd=displayKC&amp;externalId=223568">AOL Real-Time IM</a></span></span>  [<a href="#nt-id324554">4</a>] feature.</li>
      <li>Deployment of <span class="ref"><span class="strong"><a href="http://www.reach112.eu">Reach112</a></span></span>  [<a href="#nt-id324576">5</a>] in Europe, an accessible emergency service with real-time text.</li>
    </ul>



    <p>Real-time text is suitable for smooth and rapid mainstream communication in text, as an all-inclusive technology to complement instant messaging. At the same time, real-time text has special usefulness to many audiences including the deaf and other people who cannot use speech on the telephone. This document defines a specification for real-time text transmitted in-band over an XMPP network.</p>
    <h2>2.
       <a name="requirements" id="requirements">Requirements</a></h2>
        <div class="indent"><h3>2.1 <a name="fluid_realtime_text" id="fluid_realtime_text">Fluid Real-Time Text</a></h3>
    <ol>
      <li>Allow transmission of real-time text with a low latency.</li>
      <li>Balance low latencies versus system, network and server limitations.</li>
      <li>Support message editing in real-time, including text insertions and deletions.</li>
      <li>Support transmission of the original intervals between key presses, to preserve look-and-feel of typing independently of transmission intervals.</li>
    </ol>
    </div>
    <div class="indent"><h3>2.2 <a name="inband_transmission" id="inband_transmission">In-Band Transmission</a></h3>
    <ol>
      <li>Reliable real-time text delivery.</li>
      <li>Be backwards compatible with XMPP clients that do not support real-time text.</li>
      <li>Minimize reliance on knowledge of network transversal protocols and/or out-of-band transmission protocols.</li>
      <li>Compatible with multi-user chat (MUC) and simultaneous logins.</li>
    </ol>
    </div>
    <div class="indent"><h3>2.3 <a name="flexible_and_interoperable" id="flexible_and_interoperable">Flexible and Interoperable</a></h3>
    <ol>
      <li>Allow use within existing instant-messaging user interfaces, with minimal UI modifications.</li>
      <li>Allow alternate optional presentations of real-time text, including split screen and/or other layouts.</li>
      <li>Protocol design allows error recovery, and allows extensions for new features.</li>
      <li>Be interoperable with other real-time text protocols via gateways, including RFC 4103 and other standards.</li>
    </ol>
    </div>
    <div class="indent"><h3>2.4 <a name="accessible" id="accessible">Accessible</a></h3>
    <ol>
      <li>Allow XMPP to follow the <span class="ref"><span class="strong"><a href="http://www.itu.int/rec/T-REC-F.703">ITU-T Rec. F.703</a></span></span>  [<a href="#nt-id331534">6</a>] Total Conversation accessibility standard for simultaneous voice, video, and real-time text.</li>
      <li>Be a candidate technology for use with Next Generation 9-1-1 / 1-1-2 emergency services.</li>
      <li>Be suitable for transcription services and (when coupled with voice at user's choice) for TTY/text telephone alternatives, relay services, and captioned telephone systems.</li>
      <li>Be an accessible enhancement for mobile phone text messaging and mainstream instant messaging.</li>
    </ol>
    </div>
<h2>3.
       <a name="glossary" id="glossary">Glossary</a></h2>
    <p><span class="strong">real-time text</span> – Text transmitted live while it is being typed or created.</p>
    <p><span class="strong">real-time message</span> – Recipient's real-time live view of the sender's message still being typed or created.</p>
    <p><span class="strong">real-time message edit</span> – An edit operation done by the remote sender, that is transmitted in real-time to the recipient.</p>
    <p><span class="strong">action element</span> – An XML element that represents a single real-time message edit, such as text insertion or deletion.</p>
    <p><span class="strong">RTT</span> – Acronym for real-time text.</p>
    <h2>4.
       <a name="protocol" id="protocol">Protocol</a></h2>
        <div class="indent"><h3>4.1 <a name="rtt_element" id="rtt_element">RTT Element</a></h3>
    <p>Real-time text is transmitted via an &lt;rtt/&gt; child element of a &lt;message/&gt; stanza. The &lt;rtt/&gt; element is transmitted at regular intervals by the sender while a chat message is being composed, to allow the recipient to watch the sender type (and edit) the message before the full message is sent in a &lt;body/&gt; element.</p>
    <p>This is a basic example of a <span class="em"><span class="strong">real-time message</span></span> "Hello, my Juliet!", transmitted live while it is being typed, before a final message delivery:</p>
    <p><span class="strong">Example 1: Introductory Example</span></p>
    <p><p class="caption"></p><div class="indent"><pre class="prettyprint">&lt;message to='juliet@capulet.lit' from='romeo@montague.lit/orchard' type='chat' id='a01'&gt;
  &lt;rtt xmlns='urn:xmpp:rtt:0' seq='0' event='new'&gt;
    &lt;t&gt;Hello, &lt;/t&gt;
  &lt;/rtt&gt;
&lt;/message&gt;

&lt;message to='juliet@capulet.lit' from='romeo@montague.lit/orchard' type='chat' id='a02'&gt;
  &lt;rtt xmlns='urn:xmpp:rtt:0' seq='1'&gt;
    &lt;t&gt;my &lt;/t&gt;
  &lt;/rtt&gt;
&lt;/message&gt;

&lt;message to='juliet@capulet.lit' from='romeo@montague.lit/orchard' type='chat' id='a03'&gt;
  &lt;rtt xmlns='urn:xmpp:rtt:0' seq='2'&gt;
    &lt;t&gt;Juliet!&lt;/t&gt;
  &lt;/rtt&gt;
&lt;/message&gt;

&lt;message to='juliet@capulet.lit' from='romeo@montague.lit/orchard' type='chat' id='a04'&gt;
  &lt;body&gt;Hello, my Juliet!&lt;/body&gt;
&lt;/message&gt;</pre></div></p>



    <p>The &lt;rtt/&gt; element contains a series of one or more child elements called <span class="em"><span class="strong">action elements</span></span> that represent <span class="em"><span class="strong">real-time message edits</span></span> such as text being appended, inserted, or deleted. Example 1 illustrates only the &lt;t/&gt; action element, which appends text to the end of a message. For more information, see <a href="#realtime_message_editing">Real-Time Message Editing</a>.</p>
    <p>Transmission of &lt;rtt/&gt; occurs at regular intervals whenever the sender is actively composing a message. If there are no changes to the message since the last transmission, no transmission occurs. For more information, see <a href="#transmission_interval">Transmission Interval</a>.</p>
    <p>The namespace of the &lt;rtt/&gt; element is “urn:xmp:rtt:0”.</p>
    </div>
    <div class="indent"><h3>4.2 <a name="rtt_attributes" id="rtt_attributes">RTT Attributes</a></h3>
        <div class="indent"><h3>4.2.1 <a name="seq" id="seq">seq</a></h3>
    <p>This REQUIRED attribute is a counter to maintain the integrity of a real-time message. Senders MUST increment the <span class="strong">seq</span> attribute by 1 for each subsequent &lt;rtt/&gt; transmitted. Recipients MUST monitor the <span class="strong">seq</span> value to verify that it is incrementing. For more info, see <a href="#automatic_recovery_of_realtime_text">Automatic Recovery of Real-Time Text</a>.</p>
    <p>The bounds of <span class="strong">seq</span> is 31-bits, the range of positive values of a signed integer. The exception to the incrementing rule is &lt;rtt/&gt; elements with an 'event' attribute. In this case, senders MAY use any <span class="strong">seq</span> value as the new starting value. For best integrity, <span class="strong">seq</span> SHOULD be randomized. The new starting value SHOULD be less than 1 million to allow plenty of incrementing room, and to keep &lt;rtt/&gt; compact.</p>
    </div>
    <div class="indent"><h3>4.2.2 <a name="event" id="event">event</a></h3>
    <p>This attribute signals events for real-time messages, such as the start of a new real-time message. The <span class="strong">event</span> attribute is omitted from the &lt;rtt/&gt; element, when it is not needed, except in the following situations:</p>
    <ol>
      <li><p><span class="strong">event='new'</span><br />
        Senders MUST use this value on the first &lt;rtt/&gt; element of a new message, which also delivers the first character(s) being typed in a message. Recipients MUST initialize a new real-time message for display, and then process action elements within this &lt;rtt/&gt;. A new <span class="strong">seq</span> value MAY be used.</p></li>
      <li><p><span class="strong">event='reset'</span><br />
        Identical to event='new', except it replaces the existing real-time message. Senders MAY use this attribute during <a href="#automatic_recovery_of_realtime_text">Automatic Recovery of Real-Time Text</a>. Recipients MUST support this attribute, and process action elements within this &lt;rtt/&gt; to replace the existing real-time message.</p></li>
      <li><p><span class="strong">event='cancel'</span><br />
        Senders MAY use this value to signal recipient to stop transmitting real-time text. Recipients SHOULD clear the real-time message, and discontinue sending back &lt;rtt/&gt; for the remainder of the current chat session until the sender sends another &lt;rtt/&gt; to resume real-time text. No action elements should be included within &lt;rtt/&gt;.</p></li>
    </ol>
    <p>The first &lt;rtt/&gt; element in a chat session, signals the start of real-time text. The &lt;rtt event='cancel'/&gt; signals the end of real-time text in a chat session. There MUST NOT be more than one &lt;rtt/&gt; element per &lt;message/&gt;. </p>
    </div>
</div>
    <div class="indent"><h3>4.3 <a name="body_element" id="body_element">Body Element</a></h3>
    <p>Upon receipt of &lt;body/&gt;, the message becomes permanent and can not be edited any further. The delivered message is displayed instead of the real-time message. In the ideal case, the message from &lt;body/&gt; is redundant since this delivered message is identical to the final contents of the real-time message. When the sender begins composing a new message after a &lt;body/&gt; is sent, the next &lt;rtt/&gt; transmitted by the sender MUST contain the <span class="strong">event='new'</span> attribute.</p>
        <div class="indent"><h3>4.3.1 <a name="backwards_compatible" id="backwards_compatible">Backwards Compatible</a></h3>
    <p>The real-time text standard simply provides early delivery of text before the &lt;body/&gt; element. The &lt;body/&gt; element continues to follow the <span class="ref"><a href="http://tools.ietf.org/html/rfc6120">XMPP Core</a></span>  [<a href="#nt-id331861">7</a>] standard. Clients that do not support real-time text, will continue to behave normally, displaying complete lines of messages as they are delivered.</p>
    </div>
</div>
    <div class="indent"><h3>4.4 <a name="transmission_interval" id="transmission_interval">Transmission Interval</a></h3>
    <p>For the best balance between interoperability and usability, the transmission interval of &lt;rtt/&gt; for a continuously-changing message SHOULD be approximately <span class="strong">0.7 second</span>. This interval meets <span class="ref"><span class="strong"><a href="http://www.itu.int/rec/T-REC-F.700">ITU-T Rec. F.700</a></span></span>  [<a href="#nt-id331892">8</a>] for good real-time text. If a different transmission interval needs to be used, the interval SHOULD be <span class="strong">between 0.3 second and 1 second</span>.</p>
    <p>A longer interval will lead to a less optimal user experience. Conversely, a much shorter interval may more frequently trigger throttling or flooding protection algorithms in public XMPP servers, leading to dropped &lt;message/&gt; elements and/or <a href="#congestion_considerations">Congestion Considerations</a>.</p>
    <p>To provide fluid real-time text, one or more of the following methods can be used:</p>
    <ul>
      <li><a href="#preserving_key_press_intervals">Preserving Key Press Intervals</a> for natural typing display, independently of the transmission interval.</li>
      <li>Use of <a href="#time_critical_and_low_latency_methods">Time Critical And Low Latency Methods</a>, for real-time captioning/transcription.</li>
      <li>For other options or reduced-precision options, see <a href="#reduced_precision_text_smoothing_methods">Reduced Precision Text Smoothing Methods</a>.</li>
    </ul>
    </div>
    <div class="indent"><h3>4.5 <a name="realtime_message_editing" id="realtime_message_editing">Real-Time Message Editing</a></h3>
    <p>The &lt;rtt/&gt; element MAY contain one or more <span class="em"><span class="strong">action elements</span></span> representing real-time message editing operations, including text being appended, inserted, or deleted.</p>
    <p>Most chat clients allow a sender to edit their message before sending (i.e. via a Send button, or hitting Enter). The inclusion of real-time functionality to existing chat client software must not degrade the sender's existing expectation of being able to edit their messages before sending. Thus, in a chat session with real-time text, the recipient can watch the sender compose and edit their message before it is delivered.</p>
        <div class="indent"><h3>4.5.1 <a name="summary_of_action_elements" id="summary_of_action_elements">Summary of Action Elements</a></h3>
    <p>This is a short summary of action elements that operate on a real-time message. For detailed information, see <a href="#action_elements">Action Elements</a>.</p>
        <div class="indent"><p class="caption"><a name="table-1" id="table-1"></a>Table 1: </p><table border="1" cellpadding="3" cellspacing="0">
          <tr class="body">
            <th>Action</th>
            <th>Element</th>
            <th>Description</th>
          </tr>
          <tr class="body">
            <td>Insert Text</td>
            <td>&lt;t p='#'&gt;text&lt;/t&gt;</td>
            <td>REQUIRED. Insert specified <span class="em"><span class="strong">text</span></span> at position <span class="em"><span class="strong">p</span></span> in message.</td>
          </tr>
          <tr class="body">
            <td>Backspace</td>
            <td>&lt;e p='#' n='#'/&gt;</td>
            <td>REQUIRED. Remove <span class="em"><span class="strong">n</span></span> characters before position <span class="em"><span class="strong">p</span></span> in message<span class="em">.</span></td>
          </tr>
          <tr class="body">
            <td>Forward Delete</td>
            <td>&lt;d p='#' n='#'/&gt;</td>
            <td>REQUIRED. Remove <span class="em"><span class="strong">n</span></span> characters starting at position <span class="em"><span class="strong">p</span></span> in message.</td>
          </tr>
          <tr class="body">
            <td>Interval</td>
            <td>&lt;w n='#'/&gt;</td>
            <td>RECOMMENDED. Execute a pause of <span class="em"><span class="strong">n</span></span> thousandths of a second.</td>
          </tr>
        </table></div>
    </div>
    <div class="indent"><h3>4.5.2 <a name="rules_for_attribute_values" id="rules_for_attribute_values">Rules for Attribute Values</a></h3>
    <ul>
      <li><p>The <span class="em"><span class="strong">n</span></span> attribute represents a length value. If the <span class="em"><span class="strong">n</span></span> attribute is omitted, the default value for <span class="em"><span class="strong">n</span></span> MUST be 1.</p></li>
      <li><p>The <span class="em"><span class="strong">p</span></span> attribute represents an absolute position value. This is a 0-based index, where 0 represents the first character of the real-time message. If <span class="em"><span class="strong">p</span></span> is omitted, <span class="em"><span class="strong">p</span></span> MUST be treated as the length of the message (points to end of the real-time message).</p></li>
      <li><p>For text modifications, both <span class="em"><span class="strong">n</span></span> and <span class="em"><span class="strong">p</span></span> attributes are based on <a href="#unicode_character_counting">Unicode Character Counting</a>. Also see <a href="#ensuring_accuracy_of_attribute_values">Ensuring Accuracy Of Attribute Values</a>.</p></li>
    </ul>
    </div>
    <div class="indent"><h3>4.5.3 <a name="action_elements" id="action_elements">Action Elements</a></h3>
    <p>Recipients are REQUIRED to support &lt;t/&gt;, &lt;e/&gt; and &lt;d/&gt; action elements for incoming &lt;rtt/&gt; transmissions, even if not all elements are used for outgoing &lt;rtt/&gt; transmissions. Support for &lt;w/&gt; is RECOMMENDED for both senders and recipients in order to accommodate <a href="#preserving_key_press_intervals">Preserving Key Press Intervals</a>. Recipients MUST ignore unexpected or unsupported elements within &lt;rtt/&gt;, while continuing to process subsequent action elements. Action elements are immediate child elements of the &lt;rtt/&gt; element, and are never nested. Examples can be found in <a href="#use_cases">Use Cases</a>.</p>
        <div class="indent"><h3>4.5.3.1 <a name="element_t_insert_text" id="element_t_insert_text">Element &lt;t/&gt; – Insert Text</a></h3>
    <p>REQUIRED. Supports the transmission of key presses, text block inserts, and text being pasted.<br />
    <span class="em">Note:</span> <span class="em">Any text normally used in the &lt;body/&gt; element of a &lt;message/&gt; may be used. If the &lt;t/&gt; element is empty, no text modification takes place.</span></p>
    <p><p class="caption"></p><div class="indent"><pre class="prettyprint">&lt;t p='#'&gt;text&lt;/t&gt;</pre></div></p>
    <p>Inserts specified <span class="em"><span class="strong">text</span></span> at position <span class="em"><span class="strong">p</span></span> in the message text.</p>
    <p><p class="caption"></p><div class="indent"><pre class="prettyprint">&lt;t&gt;text&lt;/t&gt;</pre></div></p>
    <p>Appends specified <span class="em"><span class="strong">text</span></span> at the end of message. (<span class="em"><span class="strong">p</span></span> defaults to message length)</p>
    </div>
    <div class="indent"><h3>4.5.3.2 <a name="element_e_backspace" id="element_e_backspace">Element &lt;e/&gt; – Backspace</a></h3>
    <p>REQUIRED. Supports the behavior of Backspace key presses.<br />
    <span class="em">Note: Excess backspaces, at the start of the message, MUST be ignored.</span></p>
    <p><p class="caption"></p><div class="indent"><pre class="prettyprint">&lt;e n='#' p='#'/&gt;</pre></div></p>
    <p>Remove <span class="em"><span class="strong">n</span></span> characters before position <span class="em"><span class="strong">p</span></span> in message.</p>
    <p><p class="caption"></p><div class="indent"><pre class="prettyprint">&lt;e p='#'/&gt;</pre></div></p>
    <p>Remove 1 character before position <span class="em"><span class="strong">p</span></span> in message. (<span class="em"><span class="strong">n</span></span> defaults to 1)</p>
    <p><p class="caption"></p><div class="indent"><pre class="prettyprint">&lt;e n='#'/&gt;</pre></div></p>
    <p>Remove <span class="em"><span class="strong">n</span></span> characters from end of message. (<span class="em"><span class="strong">p</span></span> defaults to message length)</p>
    <p><p class="caption"></p><div class="indent"><pre class="prettyprint">&lt;e/&gt;</pre></div></p>
    <p>Remove 1 character from end of message. (Both <span class="em"><span class="strong">n</span></span> and <span class="em"><span class="strong">p</span></span> at default values)</p>
    </div>
    <div class="indent"><h3>4.5.3.3 <a name="element_d_forward_delete" id="element_d_forward_delete">Element &lt;d/&gt; – Forward Delete</a></h3>
    <p>REQUIRED. Supports the behavior of Delete key presses, text block deletes, and text being cut.<br />
    <span class="em">Note: Excess deletes, beyond end of message, MUST be ignored.</span></p>
    <p><p class="caption"></p><div class="indent"><pre class="prettyprint">&lt;d p='#' n='#'/&gt;</pre></div></p>
    <p>Remove <span class="em"><span class="strong">n</span></span> characters beginning at position <span class="em"><span class="strong">p</span></span> in message.</p>
    <p><p class="caption"></p><div class="indent"><pre class="prettyprint">&lt;d p='#'/&gt;</pre></div></p>
    <p>Remove 1 character beginning at position <span class="em"><span class="strong">p</span></span> in message. (<span class="em"><span class="strong">n</span></span> defaults to 1)</p>
    </div>
    <div class="indent"><h3>4.5.3.4 <a name="element_w_interval" id="element_w_interval">Element &lt;w/&gt; – Interval</a></h3>
    <p>RECOMMENDED. Allows the transmission of intervals between real-time message edits, such as the pauses between key presses. For more information, see <a href="#preserving_key_press_intervals">Preserving Key Press Intervals</a>.</p>
    <p><p class="caption"></p><div class="indent"><pre class="prettyprint">&lt;w n='#'/&gt;</pre></div></p>
    <p>Executes a pause of <span class="em"><span class="strong">n</span></span> thousandths of a second. This pause may be approximate, and not necessarily be of millisecond precision. The <span class="em"><span class="strong">n</span></span> value SHOULD NOT exceed the <a href="#transmission_interval">Transmission Interval</a>. Also, if a <a href="#body_element">Body Element</a> arrives, pauses SHOULD be interrupted to prevent a delay in message delivery.</p>
    </div>
</div>
    <div class="indent"><h3>4.5.4 <a name="ensuring_accuracy_of_attribute_values" id="ensuring_accuracy_of_attribute_values">Ensuring Accuracy Of Attribute Values</a></h3>
    <p>Real-time message edits work only within the boundaries of the current real-time message, and do not affect previous messages. Senders MUST NOT use negative values for any attribute, nor use <span class="em"><span class="strong">p</span></span> values beyond the current message length. However, recipients receiving such values MUST clip negative values to 0, and clip excessively high <span class="em"><span class="strong">p</span></span> values to the current message length.</p>
    <p>For senders, <span class="em"><span class="strong">p</span></span> and <span class="em"><span class="strong">n</span></span> values are calculated relative to the plain text version of the message. This is the message otherwise normally transmitted in a &lt;body/&gt; element after all processing is complete, including emoticon graphics as plain text. For recipients, <span class="em"><span class="strong">p</span></span> and <span class="em"><span class="strong">n</span></span> are calculated relative to the message text immediately after XML processing, and before any further processing.</p>
    <p>Regardless of the original format of line breaks during XMPP transmission, line breaks are treated as a single code point (LINE FEED U+000A). Conversion of line breaks into a single line feed is REQUIRED for XML processors, according to section 2.11 of <span class="ref"><span class="strong"><a href="http://www.w3.org/TR/xml/">XML</a></span></span>  [<a href="#nt-id332497">9</a>], so a compliant XML processor already do this automatically, and already provide the correct original Unicode text for interoperability.</p>
    </div>
    <div class="indent"><h3>4.5.5 <a name="unicode_character_counting" id="unicode_character_counting">Unicode Character Counting</a></h3>
    <p>For platform-independent interoperability, calculations of <span class="em"><span class="strong">p</span></span> and <span class="em"><span class="strong">n</span></span> values MUST be based on Unicode code points. Different platforms use different internal Unicode encodings, which may be different from the transmission encoding (UTF-8) for XMPP. Consider these factors:</p>
    <ul>
      <li><p>Multiple Unicode code points may represent one displayable Unicode glyph (i.e. combining marks).<br />
        <span class="em">Action elements operate on Unicode code points, not on displayable character glyphs.</span></p></li>
      <li><p>Characters U+10000 through U+1FFFF, which are single code points, but are represented as multiple surrogate code units in certain Unicode encodings (i.e. UTF-16).<br />
        <span class="em">Action elements operate on Unicode code points, not on individual surrogate code units.</span></p></li>
      <li><p>Some Unicode encodings use a variable number of bytes per Unicode character (i.e. UTF-8).<br /><span class="em">Action elements operate on Unicode code points, not on individual bytes.</span></p></li>
    </ul>
    <p>Incorrectly calculated <span class="em"><span class="strong">p</span></span> and <span class="em"><span class="strong">n</span></span> values may cause scrambled text during real-time message editing for many languages. This scrambled text persists until full message delivery, or <a href="#message_retransmission">Message Retransmission</a>. From the perspective of <span class="em"><span class="strong">p</span></span> and <span class="em"><span class="strong">n</span></span> values, a real-time message is treated equivalent to an editable array of Unicode code points, even if not necessarily stored as such.</p>
    </div>
</div>
    <div class="indent"><h3>4.6 <a name="automatic_recovery_of_realtime_text" id="automatic_recovery_of_realtime_text">Automatic Recovery of Real-Time Text</a></h3>
    <p>In a chat session with real-time text, it is critical that the real-time message is identical on both the sender and recipient ends. The loss of a single &lt;rtt/&gt; transmission can represent missing text, or a missing edit. This leads to the real-time message getting out of sync. Recovery of in-progress real-time message is useful in several situations:</p>
    <ul>
      <li>Disconnect and reconnection (i.e. intentional, unintentional, wireless reception, servers, etc.)</li>
      <li>XMPP servers may drop &lt;message/&gt; elements automatically (i.e. flooding protection).</li>
      <li>Multiple <a href="#simultaneous_logins">Simultaneous Logins</a>. (i.e. additional clients logging in, recipient switching computers)</li>
    </ul>
        <div class="indent"><h3>4.6.1 <a name="staying_in_sync" id="staying_in_sync">Staying In Sync</a></h3>
    <p>To stay synchronized, for &lt;rtt/&gt; elements that do not contain an 'event' attribute:</p>
    <ol>
      <li>The sender MUST increment the <span class="strong">seq</span> attribute for consecutive &lt;rtt/&gt; element.</li>
      <li>The recipient MUST monitor the <span class="strong">seq</span> attribute value of received &lt;rtt/&gt; elements, to verify that it is incrementing.</li>
      <li>The seq values for incoming messages, versus outgoing messages, are independent and kept track of separately.</li>
    </ol>
    </div>
    <div class="indent"><h3>4.6.2 <a name="detecting_loss_of_sync" id="detecting_loss_of_sync">Detecting Loss of Sync</a></h3>
    <p>The sync is considered lost if the <span class="strong">seq</span> attribute of the &lt;rtt/&gt; element does not increment as expected. Trying to process certain action elements, after loss of sync, can result in scrambled text. Therefore, to avoid this situation:</p>
    <ol>
      <li>The recipient MUST stop processing all subsequent action elements, and pause the current real-time message.</li>
      <li>An indicator MAY be used by the recipient to indicate the loss of sync. (i.e. reception bars, color code, missing text indicator, chat state message)</li>
    </ol>
    </div>
    <div class="indent"><h3>4.6.3 <a name="recovery_from_loss_of_sync" id="recovery_from_loss_of_sync">Recovery From Loss of Sync</a></h3>
    <p>Recovery occurs when any of the following happens:</p>
    <ol>
      <li>A message &lt;body/&gt; is delivered. The <a href="#body_element">Body Element</a> replaces the real-time message.</li>
      <li>The <span class="strong">event</span> attribute of &lt;rtt/&gt; has a value of <span class="strong">new</span> or <span class="strong">reset</span>. Processing of real-time MUST restart, with the new starting <span class="strong">seq</span> value obtained from this &lt;rtt/&gt; element.</li>
    </ol>
    </div>
    <div class="indent"><h3>4.6.4 <a name="message_retransmission" id="message_retransmission">Message Retransmission</a></h3>
    <p>In order to prevent recipients from waiting for <a href="#recovery_from_loss_of_sync">Recovery From Loss of Sync</a>, senders SHOULD retransmit the contents of a partially-composed message, in the following situations:</p>
    <ul>
      <li>When the recipient's presence changes. (i.e. offline to online)</li>
      <li>When the recipient sends a &lt;message/&gt; from a different full JID than before. (i.e. <a href="#simultaneous_logins">Simultaneous Logins</a>)</li>
      <li>At regular intervals, to allow recovery from unexpected situations such as lost &lt;message/&gt; stanzas.</li>
    </ul>
    <p>A message retransmit is done using the &lt;rtt/&gt; attribute <span class="strong">event='reset'</span> (see <a href="#rtt_attributes">RTT Attributes</a>).</p>
    <p><p class="caption"></p><div class="indent"><pre class="prettyprint">&lt;rtt event='reset' seq='#' xmlns='urn:xmpp:rtt:0'&gt;
  &lt;t&gt;This is a retransmission of the entire real-time message.&lt;/t&gt;
&lt;/rtt&gt;</pre></div></p>
    <p>Retransmission SHOULD be done at a regular interval of 10 seconds, unless there are no message changes. This interval is frequent enough to minimize user waiting time, while being infrequent enough to reduce bandwidth overhead. This interval MAY vary in order to reduce average bandwidth requirements for minor message changes and/or for long messages.</p>
    </div>
</div>
<h2>5.
       <a name="determining_support" id="determining_support">Determining Support</a></h2>
    <p>If a client supports this real-time text protocol, it MUST advertise that fact in its responses via <span class="ref"><a href="http://xmpp.org/extensions/xep-0030.html">Service Discovery</a></span>  [<a href="#nt-id332841">10</a>] information ("disco#info") requests by returning a feature of <span class="strong">urn:xmpp:rtt:0</span></p>
    <p><span class="strong">Example 1. A disco#info query</span></p>
    <p><p class="caption"></p><div class="indent"><pre class="prettyprint">&lt;iq from='romeo@montague.lit/orchard'
    id='disco1'
    to='juliet@capulet.lit/balcony'
    type='get'&gt;
  &lt;query xmlns='http://jabber.org/protocol/disco#info'/&gt;
&lt;/iq&gt;

</pre></div></p>
    <p><span class="strong">Example 2. A disco#info response</span></p>
    <p><p class="caption"></p><div class="indent"><pre class="prettyprint">&lt;iq from='juliet@capulet.lit/balcony'
    id='disco1'
    to='romeo@montague.lit/orchard'
    type='result'&gt;
  &lt;query xmlns='http://jabber.org/protocol/disco#info'&gt;
    &lt;feature var='urn:xmpp:rtt:0'/&gt;
  &lt;/query&gt;
&lt;/iq&gt;

</pre></div></p>
    <p>If this successful response of <span class="strong">&lt;feature var='urn:xmpp:rtt:0'/&gt;</span> is not received, the client SHOULD NOT transmit any outgoing &lt;rtt/&gt; elements in &lt;message/&gt; transmissions. This avoids unnecessary consumption of bandwidth to clients that do not support this protocol.</p>
    <h2>6.
       <a name="implementation_notes" id="implementation_notes">Implementation Notes</a></h2>
        <div class="indent"><h3>6.1 <a name="text_presentation" id="text_presentation">Text Presentation</a></h3>
        <div class="indent"><h3>6.1.1 <a name="avoid_bursty_text_presentation" id="avoid_bursty_text_presentation">Avoid Bursty Text Presentation</a></h3>
    <p>If a long <a href="#transmission_interval">Transmission Interval</a> is used without <a href="#preserving_key_press_intervals">Preserving Key Press Intervals</a>, then text will appear in intermittent bursts if the display of text is not smoothed. This hurts user experience of real-time text.</p>
    </div>
    <div class="indent"><h3>6.1.2 <a name="preserving_key_press_intervals" id="preserving_key_press_intervals">Preserving Key Press Intervals</a></h3>
    <p>For the highest quality display of text being typed, using <a href="#element_w_interval">Element &lt;w/&gt; – Interval</a> allows the original look-and-feel of typing to be preserved, independently of the transmission interval. Using the &lt;w/&gt; element, the sender can record multiple key presses including key press intervals, and transmit them over the XMPP network in a single &lt;message/&gt;. The recipient can then play back the sender's typing in real-time at original typing speed including the intervals between key presses.</p>
    <p>Much like VoIP is a packetization of sound, this spec enables packetization of typing including the original key press intervals. This enables the real-time feel of typing over virtually any network connection, without requiring frequent transmission intervals. Look and feel of typing is also preserved over variable latency connections including <span class="ref"><a href="http://xmpp.org/extensions/xep-0206.html">XMPP Over BOSH</a></span>  [<a href="#nt-id332964">11</a>], mobile phone, satellite and long international connections with heavy packet-bursting tendencies.</p>
    <p>The recipient can watch the sender fluidly compose/edit their message in real-time without any “bursting” effects. This is “Natural Typing”, and appears indistinguishable from local typing. When key press intervals are preserved at high precision, all subtleties of typing are preserved, including the 'mood' (calm typing versus panicked or emphatic typing, etc). For an example transmission of key intervals, see <a href="#full_message_including_key_press_intervals">Full Message Including Key Press Intervals</a>.</p>
    </div>
    <div class="indent"><h3>6.1.3 <a name="time_critical_and_low_latency_methods" id="time_critical_and_low_latency_methods">Time Critical And Low Latency Methods</a></h3>
    <p>There are specialized situations such as live transcriptions and captioning (i.e. transcription service, closed captioning provider, captioned telephone, relay services, Remote CART) that demands low latency transmission. Such systems typically use voice recognition and/or stenotype machines, which output text in word bursts rather than a character at a time. Senders with bursty output MAY immediately transmit word bursts of text without buffering. This eliminates any lag caused by the <a href="#transmission_interval">Transmission Interval</a>. It is NOT REQUIRED to monitor or transmit <a href="#element_w_interval">Element &lt;w/&gt; – Interval</a> for transcription. If additional accuracy is required, it is also possible to timecode the &lt;rtt/&gt; elements.</p>
    </div>
    <div class="indent"><h3>6.1.4 <a name="reduced_precision_text_smoothing_methods" id="reduced_precision_text_smoothing_methods">Reduced Precision Text Smoothing Methods</a></h3>
    <p>Some software platforms (i.e. JavaScript, BOSH, mobile devices, etc.) may have low-precision timers that impact <a href="#transmission_interval">Transmission Interval</a> and/or <a href="#preserving_key_press_intervals">Preserving Key Press Intervals</a>. Clients MAY optimize for bandwidth, performance and/or screen repaints by eliminating, merging, or ignoring <a href="#element_w_interval">Element &lt;w/&gt; – Interval</a> selectively, especially those containing shorter intervals. The transmission interval of &lt;rtt/&gt; MAY also vary, either intentionally for optimizations, or due to precision limitation.</p>
    <p>Clients MAY choose to implement alternate text-smoothing methods, such as adaptive-rate character-at-a-time output, and/or word buffering for incoming real-time text. Word buffering prevents most typing mistakes from being displayed, which can be a useful mode of operation for certain recipients who may dislike watching the sender's typing mistakes.</p>
    </div>
</div>
    <div class="indent"><h3>6.2 <a name="realtime_transmission" id="realtime_transmission">Real-Time Transmission</a></h3>
        <div class="indent"><h3>6.2.1 <a name="monitoring_message_edits" id="monitoring_message_edits">Monitoring Message Edits</a></h3>
    <p>For sending clients, there are several potential methods of capturing typing and message edits, in order to generate action elements for an &lt;rtt/&gt; transmission. However, instead of monitoring key presses directly, the most reliable and practical method is to monitor the <span class="strong">text changes</span> to the local message text field:</p>
    <ul>
      <li>it captures all typing, including edits and deletes.</li>
      <li>it captures cut &amp; paste operations, as well as edits made via a pointing device.</li>
      <li>it captures automatic text changes, such as done by spell checker, macros, assistive devices, etc.</li>
      <li>it captures accented characters, Chinese, Arabic and other characters that require multiple key presses to compose.</li>
      <li>it makes no assumptions about different keyboards or input entry methods.</li>
      <li>text change events are more cross-platform portable, including on mobile phones.</li>
    </ul>
    <p>In a text change event, the current message string can be compared to the previous message string in order to calculate what text changes took place. The appropriate action elements are then generated, to represent text insertions and deletions. If <a href="#preserving_key_press_intervals">Preserving Key Press Intervals</a> are supported, then the interval is implemented as the time elapsed between text change events. For additional information, see <a href="#action_elements">Action Elements</a> and <a href="#rules_for_attribute_values">Rules for Attribute Values</a>. The following guidelines are for clients that use keyboard input.</p>
    </div>
    <div class="indent"><h3>6.2.2 <a name="guidelines_for_senders" id="guidelines_for_senders">Guidelines for Senders</a></h3>
    <ul>
      <li><p>Monitor typing via the technique in <a href="#monitoring_message_edits">Monitoring Message Edits</a> to generate action elements, and add these action elements to a buffer. This is equivalent to recording a small sequence of typing.</p></li>
      <li><p>During every <a href="#transmission_interval">Transmission Interval</a>, all buffered action elements are transmitted in &lt;rtt/&gt; element of a &lt;message/&gt;. This is equivalent to transmitting a small sequence of typing at a time.</p></li>
      <li><p>If there are no changes to the real-time message, then no unnecessary &lt;rtt/&gt; transmission takes place.</p></li>
    </ul>
    </div>
    <div class="indent"><h3>6.2.3 <a name="guidelines_for_receivers" id="guidelines_for_receivers">Guidelines for Receivers</a></h3>
    <ul>
      <li><p>Upon receipt of a &lt;message/&gt; containing an &lt;rtt/&gt; element, the action elements in &lt;rtt/&gt; are added to a queue, in the order that they are received. This provides immunity to variable network conditions, since the buffering action smooths out the latency fluctuations of &lt;message/&gt; delivery.</p></li>
      <li><p>The recipient software should interpret the action elements in the playback queue in sequential order, including &lt;w/&gt; elements (intervals), into a real-time message. This is equivalent to playing back the sender's original typing, including key press intervals.</p></li>
      <li><p>Processing of intervals (&lt;w/&gt; elements) SHOULD be done via non-blocking programming techniques.</p></li>
      <li><p>Upon receiving a &lt;message/&gt; containing &lt;body/&gt; indicating a completed message, the full message SHOULD be displayed immediately in place of the real-time message, and unprocessed action elements cleared from the playback queue. This ensures final message delivery is not delayed by late processing of action elements.</p></li>
      <li><p>If support for the &lt;w/&gt; element is not possible, receiving software SHOULD use an alternate text-smoothing method. See <a href="#reduced_precision_text_smoothing_methods">Reduced Precision Text Smoothing Methods</a> for more info.</p></li>
      <li><p>If the playback queue contains too much delay in &lt;w/&gt; elements (i.e. &lt;w/&gt; elements from two &lt;rtt/&gt; transmissions ago), the recipient client MAY ignore or shorten the intervals of &lt;w/&gt; elements, to allow lagged real-time text to "catch up" more quickly.</p></li>
    </ul>
    </div>
</div>
    <div class="indent"><h3>6.3 <a name="optional_remote_cursor" id="optional_remote_cursor">Optional Remote Cursor</a></h3>
    <p>Recipient clients MAY choose to display a cursor (or caret) within incoming real-time messages. This enhances usability of real-time text further, since it becomes easier for a recipient to observe the sender's real-time message edits. Recipient clients that do not support a remote cursor, can simply ignore calculating a cursor position, and skip this section.</p>
        <div class="indent"><h3>6.3.1 <a name="calculating_cursor_position" id="calculating_cursor_position">Calculating Cursor Position</a></h3>
    <p>All action elements always have absolute cursor positioning. When &lt;t/&gt;, &lt;e/&gt;, or &lt;d/&gt; action elements are processed in incoming real-time text, the beginning value for the cursor position calculation is the absolute position value of the <span class="em"><span class="strong">p</span></span> attribute, according to <a href="#rules_for_attribute_values">Rules for Attribute Values</a>. The cursor position immediately after an action element, is calculated as follows:</p>
    <ul>
      <li><p>After <a href="#element_t_insert_text">Element &lt;t/&gt; – Insert Text</a>, the cursor position is the <span class="em"><span class="strong">p</span></span> attribute plus the length of the text being inserted. The cursor position is put at the end of inserted text.<br />
        <span class="em">This mimics normal forward cursor movement during text insertion.</span></p></li>
      <li><p>After <a href="#element_e_backspace">Element &lt;e/&gt; – Backspace</a>, the cursor position is the <span class="em"><span class="strong">p</span></span> attribute minus the <span class="em"><span class="strong">n</span></span> attribute. If the <span class="em"><span class="strong">n</span></span> value is greater than <span class="em"><span class="strong">p</span></span>, then cursor position becomes 0.<br />
        <span class="em">This mimics normal cursor response to a Backspace key.</span></p></li>
      <li><p>After <a href="#element_d_forward_delete">Element &lt;d/&gt; – Forward Delete</a>, the cursor position is the <span class="em"><span class="strong">p</span></span> attribute, unaffected by the <span class="em"><span class="strong">n</span></span> attribute.<br />
        <span class="em">This mimics normal cursor response to a Delete key.</span></p></li>
      <li><p>After an empty <a href="#element_t_insert_text">Element &lt;t/&gt; – Insert Text</a> (in the format of <span class="strong">&lt;t p='#'/&gt;</span> with no text to insert), the cursor position is the <span class="strong">p</span> attribute, and no text modification is done.<br /><span class="em">This allows cursor response to arrow keys and/or mouse repositioning the cursor.</span></p></li>
    </ul>
    <p>The remote cursor SHOULD be clearly distinguishable from the sender's real local cursor. One example is to use a non-blinking cursor, easily emulated with a Unicode character or the vertical bar character '|'.</p>
    </div>
    <div class="indent"><h3>6.3.2 <a name="_guidelines_for_senders" id="_guidelines_for_senders">Guidelines for Senders</a></h3>
    <p>Whenever the cursor is moving without any text modifications (via arrow keys or mouse), the sender MAY transmit extra <a href="#element_t_insert_text">Element &lt;t/&gt; – Insert Text</a> with an empty string to update the remote cursor position via attribute <span class="em"><span class="strong">p</span></span>. This maintains accurate positioning for the remote cursor in recipients that support a remote cursor. These extra elements are ignored by recipients that do not support a remote cursor.</p>
    <p>Monitoring the actual cursor position may need to be done via a “selection changed” event of a text box field in many programming platforms. This event typically monitors text marking/selection operations, and doubles as the event for monitoring the cursor position.</p>
    </div>
</div>
    <div class="indent"><h3>6.4 <a name="other_guidelines" id="other_guidelines">Other Guidelines</a></h3>
    <p><a href=""></a>There are other special basic considerations for real-time message transmissions that need to be considered by implementors.</p>
        <div class="indent"><h3>6.4.1 <a name="message_length_limit" id="message_length_limit">Message Length Limit</a></h3>
    <p>A large sequence of rapid message changes may generate a large series of action elements in an &lt;rtt/&gt; element, resulting in the &lt;message/&gt; exceeding the XMPP server's maximum allowed length of a &lt;message/&gt; stanza. This may result in dropped messages. It is acceptable to simply retransmit the whole real-time message using &lt;rtt event='reset'/&gt; if the length of the &lt;rtt/&gt; element would otherwise exceed the application's maximum chat message length.</p>
    <p>For long messages, the final &lt;rtt/&gt; transmission may be made in a separate &lt;message/&gt; than the &lt;message/&gt; containing the &lt;body/&gt;. For example:</p>
    <p><p class="caption"></p><div class="indent"><pre class="prettyprint">&lt;message to='alice@example.com' from='bob@example.com/home' type='chat' id='dda'&gt;
  &lt;rtt xmlns='urn:xmpp:rtt:0' seq='95'&gt;
    &lt;t&gt;Hello World...In a Super Long Message! [etc]&lt;/t&gt;
  &lt;/rtt&gt;
  &lt;body&gt;Hello World...In a Super Long Message! [etc]&lt;/body&gt;
&lt;/message&gt;</pre></div></p>



    <p>The message MAY be split into two separate message transmissions:</p>
    <p><p class="caption"></p><div class="indent"><pre class="prettyprint">&lt;message to='alice@example.com' from='bob@example.com/home' type='chat' id='dda'&gt;
  &lt;rtt xmlns='urn:xmpp:rtt:0' seq='95'&gt;
    &lt;t&gt;Hello World...In a Super Long Message! [etc]&lt;/t&gt;
  &lt;/rtt&gt;
&lt;/message&gt;

&lt;message to='alice@example.com' from='bob@example.com/home' type='chat' id='ddb'&gt;
  &lt;body&gt;Hello World...In a Super Long Message! [etc]&lt;/body&gt;
&lt;/message&gt;</pre></div></p>
    </div>
    <div class="indent"><h3>6.4.2 <a name="usage_with_chat_states" id="usage_with_chat_states">Usage With Chat States</a></h3>
    <p>Real-time text MAY be accompanied with XEP-0085 <span class="ref"><a href="http://xmpp.org/extensions/xep-0085.html">Chat State Notifications</a></span>  [<a href="#nt-id333497">12</a>]. These are simple guidelines for &lt;message/&gt; stanzas that include an &lt;rtt/&gt; element:</p>
    <ul>
      <li>For &lt;rtt/&gt; transmitted without an accompanying &lt;body/&gt;, include &lt;composing/&gt; chat state.</li>
      <li>For &lt;rtt/&gt; transmitted with an accompanying &lt;body/&gt;, include the &lt;active/&gt; chat state.</li>
      <li>Other chat states are handled as specified by XEP-0085 Chat States.</li>
    </ul>
    </div>
    <div class="indent"><h3>6.4.3 <a name="usage_with_multiuser_chat_and_simultaneous_logins" id="usage_with_multiuser_chat_and_simultaneous_logins">Usage With Multi-User Chat and Simultaneous Logins</a></h3>
    <p>The in-band nature of this real-time text standard allows one-to-many situations. Thus, real-time text is compatible with <span class="ref"><a href="http://xmpp.org/extensions/xep-0045.html">Multi-User Chat</a></span>  [<a href="#nt-id333586">13</a>] (MUC), as well as concurrent simultaneous logins. Support for real-time text in MUC is OPTIONAL, and is fully <a href="#backwards_compatible">Backwards Compatible</a> with group chat participants that do not support real-time text.</p>
        <div class="indent"><h3>6.4.3.1 <a name="multiuser_chat" id="multiuser_chat">Multi-User Chat</a></h3>
    <p>For MUC, the <a href="#rtt_element">RTT Element</a> <a href="#event">event</a> attribute value of 'cancel' SHOULD NOT be used. This prevents one participant from suppressing real-time text for all participants in a group chat. Participants that turn off real-time text for themselves, can simply ignore incoming &lt;rtt/&gt; and not transmitting outgoing &lt;rtt/&gt;. Participant clients without real-time text (whether unsupported or turned off) will simply see group chat function normally on a line-by-line basis. Participants that enable real-time text during group chat, need to keep track of separate real-time messages on a per-participant basis, via full JID. As a result, participants with real-time text, will see real-time text coming from each participant that have real-time text enabled. Software MAY hide idle real-time messages to minimize on-screen clutter when more than one person is typing. Congestion control MAY also be used, via automatic adjustment of <a href="#transmission_interval">Transmission Interval</a>, see <a href="#congestion_considerations">Congestion Considerations</a>.</p>
    </div>
    <div class="indent"><h3>6.4.3.2 <a name="simultaneous_logins" id="simultaneous_logins">Simultaneous Logins</a></h3>
    <p>In simultaneous login situations, transmitting of &lt;rtt/&gt; works in one-to-many situations without any special software support. For many-to-one situations where there is incoming &lt;rtt/&gt; from more than one simultaneous login, the existing <a href="#automatic_recovery_of_realtime_text">Automatic Recovery of Real-Time Text</a> already catches this situation until there is only one typist. A good implementation of <a href="#message_retransmission">Message Retransmission</a> will improve user experience, regardless of whether or not XEP-0296 is used (<span class="ref"><a href="http://xmpp.org/extensions/xep-0296.html">Best Practices for Resource Locking</a></span>  [<a href="#nt-id324336">14</a>]). Alternatively, clients MAY choose to improve on this behavior, by keeping track of multiple separate real-time messages per full JID, similar to <a href="#multiuser_chat">Multi-User Chat</a>.</p>
    </div>
</div>
    <div class="indent"><h3>6.4.4 <a name="performance_efficiency" id="performance_efficiency">Performance &amp; Efficiency</a></h3>
    <p>With real-time text, frequent screen updates may occur. Screen updates are a potential performance bottleneck, because fast typists type many key presses per second. Optimizing screen updates becomes especially important for slower platforms. Real-time messages should be updated efficiently in a flicker-free manner. Alternatively, to improve performance, the display of real-time messages may be implemented as a separate window or separate display element.</p>
    <p>Battery life considerations are closely related to performance, as the addition of real-time text may impact battery life. If <a href="#preserving_key_press_intervals">Preserving Key Press Intervals</a> are supported, then the implementation of <a href="#element_w_interval">Element &lt;w/&gt; – Interval</a> should be implemented in a battery-efficient manner. The <a href="#transmission_interval">Transmission Interval</a> may vary dynamically to optimize for battery life and wireless reception. For devices where screen updates are an unavoidable inefficient bottleneck, see <a href="#reduced_precision_text_smoothing_methods">Reduced Precision Text Smoothing Methods</a> to reduce the number of screen updates per second. Also see <span class="ref"><a href="http://xmpp.org/extensions/xep-0286.html">XMPP on Mobile Devices</a></span>  [<a href="#nt-id333792">15</a>].</p>
    </div>
    <div class="indent"><h3>6.4.5 <a name="total_conversation_combination_with_audio_and_video" id="total_conversation_combination_with_audio_and_video">Total Conversation – Combination With Audio And Video</a></h3>
    <p>According to ITU-T Rec. F.703, the “Total Conversation” accessibility standard defines the simultaneous use of audio, video, and real-time text. For convenience, chat applications may be designed to have automatic negotiation of as many as possible of the three media preferred by the users.</p>
    <p>In the XMPP session environment, the Jingle protocol (<span class="ref"><a href="http://xmpp.org/extensions/xep-0166.html">Jingle</a></span>  [<a href="#nt-id333837">16</a>]) is available for negotiation and transport of the more time-critical, real-time audio and video media. Any combination of audio, video, and real-time text MAY be used together simultaneously.</p>
    </div>
</div>
<h2>7.
       <a name="use_cases" id="use_cases">Use Cases</a></h2>
    <p>Most of these examples are deliberately kept simple. In software implementations supporting key press intervals, transmissions will most resemble the last example, <a href="#full_message_including_key_press_intervals">Full Message Including Key Press Intervals</a>.</p>
        <div class="indent"><h3>7.1 <a name="three_backspaces" id="three_backspaces">Three Backspaces</a></h3>
    <p><p class="caption"></p><div class="indent"><pre class="prettyprint">&lt;message to='bob@example.com' from='alice@example.com/home' id='a01' type='chat'&gt;
  &lt;rtt xmlns='urn:xmpp:rtt:0' seq='0' event='new'&gt;
    &lt;t&gt;Hello bcak&lt;/t&gt;&lt;e/&gt;&lt;e/&gt;&lt;e/&gt;&lt;t&gt;ack&lt;/t&gt;
  &lt;/rtt&gt;
&lt;/message&gt;</pre></div></p>



    <p>Resulting real-time message: "<span class="strong">Hello back</span>"<br />
    This code sends the misspelled "<span class="strong">Hello bcak</span>", then <span class="strong">&lt;e/&gt;&lt;e/&gt;&lt;e/&gt;</span> backspaces 3 times, then sends "<span class="strong">ack</span>".</p>
    </div>
    <div class="indent"><h3>7.2 <a name="three_backspaces_in_one_action_element" id="three_backspaces_in_one_action_element">Three Backspaces In One Action Element</a></h3>
    <p><p class="caption"></p><div class="indent"><pre class="prettyprint">&lt;message to='bob@example.com' from='alice@example.com/home' type='chat' id='a01'&gt;
  &lt;rtt xmlns='urn:xmpp:rtt:0' seq='0' event='new'&gt;
    &lt;t&gt;Hello bcak&lt;/t&gt;&lt;e n='3'/&gt;&lt;t&gt;ack&lt;/t&gt;
  &lt;/rtt&gt;
&lt;/message&gt;</pre></div></p>



    <p>Resulting real-time message: "<span class="strong">Hello back</span>"<br />
    This code is the same as the previous example, demonstrating that <span class="strong">&lt;e n='3'/&gt;</span> does the same thing as <span class="strong">&lt;e/&gt;&lt;e/&gt;&lt;e/&gt;</span>.</p>
    </div>
    <div class="indent"><h3>7.3 <a name="message_edits_split_into_multiple_transmissions" id="message_edits_split_into_multiple_transmissions">Message Edits Split Into Multiple Transmissions</a></h3>
    <p><p class="caption"></p><div class="indent"><pre class="prettyprint">&lt;message to='bob@example.com' from='alice@example.com/home' type='chat' id='a01'&gt;
  &lt;rtt xmlns='urn:xmpp:rtt:0' seq='0' event='new'&gt;
    &lt;t&gt;Hello&lt;/t&gt;
  &lt;/rtt&gt;
&lt;/message&gt;

&lt;message to='bob@example.com' from='alice@example.com/home' type='chat' id='b02'&gt;
  &lt;rtt xmlns='urn:xmpp:rtt:0' seq='1'&gt;
    &lt;t&gt; bcak&lt;/t&gt;
  &lt;/rtt&gt;
&lt;/message&gt;

&lt;message to='bob@example.com' from='alice@example.com/home' type='chat' id='c03'&gt;
  &lt;rtt xmlns='urn:xmpp:rtt:0' seq='2'&gt;
    &lt;e n='3'/&gt;
  &lt;/rtt&gt;
&lt;/message&gt;

&lt;message to='bob@example.com' from='alice@example.com/home' type='chat' id='d04'&gt;
  &lt;rtt xmlns='urn:xmpp:rtt:0' seq='3'&gt;
    &lt;t&gt;ack&lt;/t&gt;
  &lt;/rtt&gt;
&lt;/message&gt;</pre></div></p>



    <p>Resulting real-time message: "<span class="strong">Hello back</span>"<br />
    This code results in the same final text as the previous two examples, segmented into four separate messages.</p>
    </div>
    <div class="indent"><h3>7.4 <a name="deleting_text_from_message" id="deleting_text_from_message">Deleting Text From Message</a></h3>
    <p><p class="caption"></p><div class="indent"><pre class="prettyprint">&lt;message to='bob@example.com' from='alice@example.com/home' type='chat' id='a01'&gt;
  &lt;rtt xmlns='urn:xmpp:rtt:0' seq='0' event='new'&gt;
    &lt;t&gt;Hello Bob, this is Alice!&lt;/t&gt;&lt;d n='4' p='5'/&gt;
  &lt;/rtt&gt;
&lt;/message&gt;</pre></div></p>



    <p>Resulting real-time message: "<span class="strong">Hello, this is Alice!</span>"<br />
    This code outputs "<span class="strong">Hello Bob, this is Alice!</span>" then <span class="strong">&lt;d n='4' p='5'/&gt;</span> deletes 4 characters from position 5.<br />
    (This erases the text " <span class="strong">Bob</span>" including the preceding space character).</p>
    </div>
    <div class="indent"><h3>7.5 <a name="inserting_text_into_message" id="inserting_text_into_message">Inserting Text Into Message</a></h3>
    <p><p class="caption"></p><div class="indent"><pre class="prettyprint">&lt;message to='bob@example.com' from='alice@example.com/home' type='chat' id='a01'&gt;
  &lt;rtt xmlns='urn:xmpp:rtt:0' seq='0' event='new'&gt;
    &lt;t&gt;Hello, this is Alice!&lt;/t&gt;&lt;t p='5'&gt; Bob&lt;/t&gt;
  &lt;/rtt&gt;
&lt;/message&gt;</pre></div></p>



    <p>Resulting real-time message: "<span class="strong">Hello Bob, this is Alice!</span>"<br />
    This is because the code outputs "<span class="strong">Hello, this is Alice!</span>" then the <span class="strong">&lt;t p='5'&gt;</span> inserts the specified text " <span class="strong">Bob</span>" at position 5.</p>
    </div>
    <div class="indent"><h3>7.6 <a name="deleting_and_replacing_text_in_message" id="deleting_and_replacing_text_in_message">Deleting And Replacing Text In Message</a></h3>
    <p><p class="caption"></p><div class="indent"><pre class="prettyprint">&lt;message to='bob@example.com' from='alice@example.com/home' type='chat' id='a01'&gt;
  &lt;rtt xmlns='urn:xmpp:rtt:0' seq='0' event='new'&gt;
    &lt;t&gt;Hello Bob, tihsd is Alice!&lt;/t&gt;
    &lt;d p='11' n='5'/&gt;
    &lt;t p='11'&gt;this&lt;/t&gt;
  &lt;/rtt&gt;
&lt;/message&gt;</pre></div></p>



    <p>Resulting real-time message: "<span class="strong">Hello Bob, this is Alice!</span>"<br />
    This code outputs "<span class="strong">Hello Bob, tihsd is Alice!</span>", then <span class="strong">&lt;d p='11' n='5'/&gt;</span> deletes 5 characters at position 11 in the string of text. (erases the mistyped word "<span class="strong">tihsd</span>"). Finally, <span class="strong">&lt;t p='11'&gt;this&lt;/t&gt;</span> inserts the text "<span class="strong">this</span>" place of the original misspelled word.</p>
    </div>
    <div class="indent"><h3>7.7 <a name="multiple_message_edits" id="multiple_message_edits">Multiple Message Edits</a></h3>
    <p>This is an example message containing multiple consecutive real-time message edits.</p>
    <p><p class="caption"></p><div class="indent"><pre class="prettyprint">&lt;message to='bob@example.com' from='alice@example.com/home' type='chat' id='a01'&gt;
  &lt;rtt xmlns='urn:xmpp:rtt:0' seq='0' event='new'&gt;
    &lt;t&gt;Helo&lt;/t&gt;
    &lt;e/&gt;
    &lt;t&gt;lo...planet&lt;/t&gt;
    &lt;e n='6'/&gt;
    &lt;t&gt; World&lt;/t&gt;
    &lt;d n='3' p='5'/&gt;
    &lt;t p='5'&gt; there,&lt;/t&gt;
  &lt;/rtt&gt;
&lt;/message&gt;</pre></div></p>



    <p>Resulting real-time message: "<span class="strong">Hello there, World</span>", completed in the following series of steps:</p>
        <div class="indent"><p class="caption"><a name="table-2" id="table-2"></a>Table 2: </p><table border="1" cellpadding="3" cellspacing="0">
          <tr class="body">
            <th>Element</th>
            <th>Action</th>
            <th>Real -Time Message</th>
            <th>Cursor Pos</th>
          </tr>
          <tr class="body">
            <td>&lt;t&gt;Helo&lt;/t&gt;</td>
            <td>Output "Helo"</td>
            <td>Helo</td>
            <td>4</td>
          </tr>
          <tr class="body">
            <td>&lt;e/&gt;</td>
            <td>Backspace 1 character from end of line.</td>
            <td>Hel</td>
            <td>3</td>
          </tr>
          <tr class="body">
            <td>&lt;t&gt;lo...planet&lt;/t&gt;</td>
            <td>Output "lo...planet" at end of line.</td>
            <td>Hello...planet</td>
            <td>14</td>
          </tr>
          <tr class="body">
            <td>&lt;e n='6'/&gt;</td>
            <td>Backspace 6 characters from end of line</td>
            <td>Hello...</td>
            <td>8</td>
          </tr>
          <tr class="body">
            <td>&lt;t&gt; World&lt;/t&gt;</td>
            <td>Output " World" at end of line.</td>
            <td>Hello... World</td>
            <td>14</td>
          </tr>
          <tr class="body">
            <td>&lt;d n='3' p='5'/&gt;</td>
            <td>Delete 3 characters at position 5</td>
            <td>Hello World</td>
            <td>5</td>
          </tr>
          <tr class="body">
            <td>&lt;t p='5'&gt; there,&lt;/t&gt;</td>
            <td>Output " there," at position 5</td>
            <td>Hello there, World</td>
            <td>12</td>
          </tr>
        </table></div>
    <p>Normally, the action elements are split into multiple separate transmissions. This example also does not illustrate <a href="#preserving_key_press_intervals">Preserving Key Press Intervals</a>. The Cursor Pos column is only relevant if the <a href="#optional_remote_cursor">Optional Remote Cursor</a> is implemented.</p>
    </div>
    <div class="indent"><h3>7.8 <a name="three_consecutive_messages" id="three_consecutive_messages">Three Consecutive Messages</a></h3>
    <p>Representing a short chat session of three separate messages:<br />
    Bob says: "Hello Alice"<br />
    Bob says: "This is Bob"<br />
    Bob says: "How are you?"</p>
    <p><p class="caption"></p><div class="indent"><pre class="prettyprint">&lt;message to='alice@example.com' from='bob@example.com/home' type='chat' id='a01'&gt;
  &lt;rtt xmlns='urn:xmpp:rtt:0' seq='0' event='new'&gt;
    &lt;t&gt;Hello&lt;/t&gt;
  &lt;/rtt&gt;
&lt;/message&gt;

&lt;message to='alice@example.com' from='bob@example.com/home' type='chat' id='b02'&gt;
  &lt;rtt xmlns='urn:xmpp:rtt:0' seq='1'&gt;
    &lt;t&gt; Alice&lt;/t&gt;
  &lt;/rtt&gt;
  &lt;body&gt;Hello Alice&lt;/body&gt;
&lt;/message&gt;

&lt;message to='alice@example.com' from='bob@example.com/home' type='chat' id='c03'&gt;
  &lt;rtt xmlns='urn:xmpp:rtt:0' seq='2' event='new'&gt;
    &lt;t&gt;This i&lt;/t&gt;
  &lt;/rtt&gt;
&lt;/message&gt;

&lt;message to='alice@example.com' from='bob@example.com/home' type='chat' id='d04'&gt;
  &lt;rtt xmlns='urn:xmpp:rtt:0' seq='3'&gt;
    &lt;t&gt;s Bob&lt;/t&gt;
  &lt;/rtt&gt;
  &lt;body&gt;This is Bob&lt;/body&gt;
&lt;/message&gt;

&lt;message to='alice@example.com' from='bob@example.com/home' type='chat' id='e05'&gt;
  &lt;rtt xmlns='urn:xmpp:rtt:0' seq='4' event='new'&gt;
    &lt;t&gt;How a&lt;/t&gt;
  &lt;/rtt&gt;
&lt;/message&gt;

&lt;message to='alice@example.com' from='bob@example.com/home' type='chat' id='f06'&gt;
  &lt;rtt xmlns='urn:xmpp:rtt:0' seq='5'&gt;
    &lt;t&gt;re yo&lt;/t&gt;
  &lt;/rtt&gt;
&lt;/message&gt;

&lt;message to='alice@example.com' from='bob@example.com/home' type='chat' id='g07'&gt;
  &lt;rtt xmlns='urn:xmpp:rtt:0' seq='6'&gt;
    &lt;t&gt;u?&lt;/t&gt;
  &lt;/rtt&gt;
  &lt;body&gt;How are you?&lt;/body&gt;
&lt;/message&gt;</pre></div></p>



    <p>This example also illustrates the following:</p>
    <ul>
      <li>The <span class="strong">type</span> attribute equals 'new' for the start of every new message.</li>
      <li>The <span class="strong">seq</span> attribute always increments.</li>
    </ul>
    </div>
    <div class="indent"><h3>7.9 <a name="full_message_including_key_press_intervals" id="full_message_including_key_press_intervals">Full Message Including Key Press Intervals</a></h3>
    <p>This example is a transmission of “Hello there!” while <a href="#preserving_key_press_intervals">Preserving Key Press Intervals</a>. It illustrates a four-second typing sequence:</p>
    <ul>
      <li>The misspelled phrase “Hello tehre!” is typed;</li>
      <li>Three cursor-left movements back to the typing mistake;</li>
      <li>Two backspaces to delete the typing mistake;</li>
      <li>Two correct key presses to correctly spell the word “there”.</li>
    </ul>
    <p>In between each key press, is <a href="#element_w_interval">Element &lt;w/&gt; – Interval</a> to allow the receiving client execute a small pause between action elements, which allows the playback of the typing at its original look-and-feel.</p>
    <p><p class="caption"></p><div class="indent"><pre class="prettyprint">&lt;message to='bob@example.com' from='alice@example.com/home' type='chat' id='a01'&gt;
  &lt;rtt xmlns='urn:xmpp:rtt:0' seq='0' event='new'&gt;
    &lt;t&gt;H&lt;/t&gt;
    &lt;w n='115'/&gt;&lt;t&gt;e&lt;/t&gt;
    &lt;w n='154'/&gt;&lt;t&gt;l&lt;/t&gt;
    &lt;w n='151'/&gt;&lt;t&gt;l&lt;/t&gt;
    &lt;w n='115'/&gt;&lt;t&gt;o&lt;/t&gt;
    &lt;w n='165'/&gt;
  &lt;/rtt&gt;
&lt;/message&gt;

&lt;message to='bob@example.com' from='alice@example.com/home' type='chat' id='b02'&gt;
  &lt;rtt xmlns='urn:xmpp:rtt:0' seq='1'&gt;
    &lt;w n='40'/&gt;&lt;t&gt; &lt;/t&gt;
    &lt;w n='161'/&gt;&lt;t&gt;t&lt;/t&gt;
    &lt;w n='137'/&gt;&lt;t&gt;e&lt;/t&gt;
    &lt;w n='135'/&gt;&lt;t&gt;h&lt;/t&gt;
    &lt;w n='134'/&gt;&lt;t&gt;r&lt;/t&gt;
    &lt;w n='93'/&gt;
  &lt;/rtt&gt;
&lt;/message&gt;

&lt;message to='bob@example.com' from='alice@example.com/home' type='chat' id='c03'&gt;
  &lt;rtt xmlns='urn:xmpp:rtt:0' seq='2'&gt;
    &lt;w n='109'/&gt;&lt;t&gt;e&lt;/t&gt;
    &lt;w n='115'/&gt;&lt;t&gt;!&lt;/t&gt;
    &lt;w n='330'/&gt;&lt;t p='11'/&gt;
    &lt;w n='108'/&gt;&lt;t p='10'/&gt;
    &lt;w n='38'/&gt;
  &lt;/rtt&gt;
&lt;/message&gt;

&lt;message to='bob@example.com' from='alice@example.com/home' type='chat' id='d04'&gt;
  &lt;rtt xmlns='urn:xmpp:rtt:0' seq='3'&gt;
    &lt;w n='109'/&gt;&lt;t p='9'/&gt;
    &lt;w n='111'/&gt;&lt;e p='9'/&gt;
    &lt;w n='106'/&gt;&lt;e p='8'/&gt;
    &lt;w n='138'/&gt;&lt;t p='7'&gt;h&lt;/t&gt;
    &lt;w n='209'/&gt;&lt;t p='8'&gt;e&lt;/t&gt;
    &lt;w n='27'/&gt;
  &lt;/rtt&gt;
&lt;/message&gt;

&lt;message to='bob@example.com' from='alice@example.com/home' type='chat' id='d04'&gt;
  &lt;rtt xmlns='urn:xmpp:rtt:0' seq='4'&gt;
    &lt;w n='445'/&gt;&lt;t p='12'&gt;
  &lt;/rtt&gt;
  &lt;body&gt;Hello there!&lt;/body&gt;
&lt;/message&gt;</pre></div></p>



    <p>This example also illustrate the following:</p>
    <ul>
      <li>Typing is done via the REQUIRED <a href="#element_t_insert_text">Element &lt;t/&gt; – Insert Text</a>.</li>
      <li>Backspaces are done via the REQUIRED <a href="#element_e_backspace">Element &lt;e/&gt; – Backspace</a>.</li>
      <li>There is a final transmission with a <a href="#body_element">Body Element</a>, when the message is finished.</li>
      <li>Intervals between key presses are done via the RECOMMENDED <a href="#element_w_interval">Element &lt;w/&gt; – Interval</a>.</li>
      <li>Each &lt;message/&gt; is delivered every 0.7 seconds, the default RECOMMENDED <a href="#transmission_interval">Transmission Interval</a>.</li>
      <li>These action elements are generated automatically via <a href="#monitoring_message_edits">Monitoring Message Edits</a> RECOMMENDED method.</li>
      <li>Cursor movements are done via empty &lt;t/&gt; elements, for an <a href="#optional_remote_cursor">Optional Remote Cursor</a>.</li>
      <li>In order to maximize precision, and achieve the smoothest playback of typing, the total sum of all values in <a href="#element_w_interval">Element &lt;w/&gt; – Interval</a> in one &lt;message/&gt; equal the <a href="#transmission_interval">Transmission Interval</a> during periods of continuous typing. This also results in some &lt;w/&gt; interval elements being split between consecutive messages.</li>
    </ul>
    </div>
<h2>8.
       <a name="interoperability_considerations" id="interoperability_considerations">Interoperability Considerations</a></h2>
    <p>There are other real-time text formats with interoperability considerations relating to the session setup level, the media transport level, and presentation level. For each environment where interoperability is supported, an interoperability specification should be documented that covers addressing, session control, media negotiation and media transcoding.</p>
        <div class="indent"><h3>8.1 <a name="other_realtime_text_standards" id="other_realtime_text_standards">Other Real-Time Text Standards</a></h3>
    <p>It is noted there is also another real-time text standard (RFC 4103, <span class="ref"><span class="strong"><a href="http://tools.ietf.org/html/rfc5194">IETF RFC 5194</a></span></span>  [<a href="#nt-id334494">17</a>]), used for SIP sessions with real-time text. In the situation where an implementor needs to decide which real-time text standard to use, it is generally recommended to use the real-time text specification of the specific session control standard in use for that particular session. This varies from implementation to implementation. For example, Google Talk network uses XMPP messaging for instant messages sent during audio/video conversations. Therefore, in this situation, it is recommended to use this XEP-0301 specification to add real-time text functionality. However, there are other situations where it is necessary to support multiple real-time-text standards, and to interoperate between the multiple real-time text standards.</p>
    </div>
    <div class="indent"><h3>8.2 <a name="rfc_4103_and_t140" id="rfc_4103_and_t140">RFC 4103 and T.140</a></h3>
    <p>One environment for such interoperability considerations is SIP with real-time text (also called Text over IP, or ToIP) as specified in ITU-T T.140 and IETF RFC 4103. This protocol combination is specified by IETF, and by regional emergency service organizations, to be one of the protocols supported for IP based real-time emergency calls that support real-time text. Another reason is that SIP is the currently dominating peering protocol between services, and many implementations of real-time text in SIP exist.</p>
    <p>Interoperability implies addressing translation, media negotiation and translation, and media transcoding. For media transcoding between this specification and T.140/RFC 4103, the real-time text transcoding is straight forward, except the editing feature of this specification. Backwards positioning and insertion or deletion far back in the message can cause a large number of erase operations in T.140, that takes time and bandwidth to convey.</p>
    <p>It should be noted that T.140 specifies use of ISO 6429 control codes for presentation characteristics such as text color etc, that are not covered in this version of this specification. All control codes from both sides that cannot be presented on the other side of the conversion, must be filtered off in order to not disturb the presentation of text.</p>
    <p>Also, see <a href="#total_conversation_combination_with_audio_and_video">Total Conversation – Combination With Audio And Video</a>.</p>
    </div>
<h2>9.
       <a name="internationalization_considerations" id="internationalization_considerations">Internationalization Considerations</a></h2>
    <p>The main internationalization consideration involve real-time message editing of international and mixed-language text. Correct calculations for <a href="#action_elements">Action Elements</a> based on <a href="#unicode_character_counting">Unicode Character Counting</a> is necessary to avoid scrambled text for many languages.</p>
    <h2>10.
       <a name="security_considerations" id="security_considerations">Security Considerations</a></h2>
        <div class="indent"><h3>10.1 <a name="privacy" id="privacy">Privacy</a></h3>
    <p>It is important for implementors of real-time text to educate users about real-time text. Users of real-time text should be aware that their typing in the local input buffer is now visible to everyone in the current chat conversation. This may have security implications if users copy &amp; paste private information into their chat entry buffer (i.e. a shopping invoice) before editing out the private parts of the pasted text (i.e. a credit card number) before they send the message. With real-time message editing, recipients can watch all text changes that occur in the sender's text, before the sender sends the final message.</p>
    </div>
    <div class="indent"><h3>10.2 <a name="congestion_considerations" id="congestion_considerations">Congestion Considerations</a></h3>
    <p>The nature of real-time text result in more frequent transmission of &lt;message/&gt; elements than may otherwise happen in a non-real-time text conversation. This may lead to increased network and server loading of XMPP networks. Care SHOULD to be taken to use a reasonable <a href="#transmission_interval">Transmission Interval</a>, and avoid transmitting messages at an excessive rate, to avoid creating unnecessary congestion on public XMPP networks. Also, see <span class="ref"><a href="http://xmpp.org/extensions/xep-0205.html">Best Practices to Discourage Denial of Service Attacks</a></span>  [<a href="#nt-id334654">18</a>].</p>
    <p>Network monitoring mechanisms (i.e. <span class="ref"><a href="http://xmpp.org/extensions/xep-0184.html">Message Delivery Receipts </a></span>  [<a href="#nt-id334684">19</a>] and/or <span class="ref"><a href="http://xmpp.org/extensions/xep-0199.html">XMPP Ping</a></span>  [<a href="#nt-id334707">20</a>], etc.) MAY be used to monitor reliability and latency, in order to temporarily adjust the interval to prevent failure of real-time text transmissions during extreme network conditions. This is also useful for mission-critical applications such as Next Generation 9-1-1 emergency services.</p>
    <p>The load between participants using this specification in the recommended way, will cause a load that is only marginally higher than a user communicating without this specification. Bandwidth overhead of real-time text is very low compared to many other activities possible on XMPP networks including VoIP and file transfers.</p>
    </div>
<h2>11.
       <a name="iana_considerations" id="iana_considerations">IANA Considerations</a></h2>
    <p>This document requires no interaction with the Internet Assigned Numbers Authority (IANA).</p>
    <h2>12.
       <a name="xmpp_registrar_considerations" id="xmpp_registrar_considerations">XMPP Registrar Considerations</a></h2>
        <div class="indent"><h3>12.1 <a name="protocol_namespaces" id="protocol_namespaces">Protocol Namespaces</a></h3>
    <p>The XMPP Registrar should include "urn:xmpp:rtt:0" in its registry of protocol namespaces (see &lt;<a href="http://xmpp.org/registrar/namespaces.html">http://xmpp.org/registrar/namespaces.html</a>&gt;).</p>
    </div>
    <div class="indent"><h3>12.2 <a name="namespace_versioning" id="namespace_versioning">Namespace Versioning</a></h3>
    <p>If the protocol defined in this specification undergoes a revision that is not fully backwards-compatible with an older version, the XMPP Registrar shall increment the protocol version number found at the end of the XML namespaces defined herein, as described in Section 4 of XEP-0053.</p>
    </div>
<h2>13.
       <a name="xml_schema" id="xml_schema">XML Schema</a></h2>
    <p><p class="caption"></p><div class="indent"><pre class="prettyprint">&lt;?xml version='1.0' encoding='UTF-8'?&gt;

&lt;xs:schema
    xmlns:xs='http://www.w3.org/2001/XMLSchema'
    targetNamespace='urn:xmpp:rtt:0'
    xmlns='urn:xmpp:rtt:0'
    elementFormDefault='qualified'&gt;

  &lt;xs:annotation&gt;
    &lt;xs:documentation&gt;
      The protocol documented by this schema is defined in
      XEP-0301: http://www.xmpp.org/extensions/xep-0301.html
    &lt;/xs:documentation&gt;
  &lt;/xs:annotation&gt;

  &lt;xs:element name='rtt'&gt;
    &lt;xs:complexType&gt;
      &lt;xs:attribute name='seq' type='xs:unsignedInteger' use='required'/&gt;
      &lt;xs:attribute name='event' type='xs:string' use='optional'/&gt;
      &lt;xs:sequence&gt;
        &lt;xs:element ref='t' minOccurs='0' maxOccurs='unbounded'/&gt;
        &lt;xs:element ref='e' minOccurs='0' maxOccurs='unbounded'/&gt;
        &lt;xs:element ref='d' minOccurs='0' maxOccurs='unbounded'/&gt;
        &lt;xs:element ref='w' minOccurs='0' maxOccurs='unbounded'/&gt;
      &lt;/xs:sequence&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;

  &lt;xs:element name='t' type='xs:string'&gt;
    &lt;xs:complexType&gt;
      &lt;xs:attribute name='p' type='xs:unsignedInteger' use='optional'/&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;

  &lt;xs:element name='e' type='empty'&gt;
    &lt;xs:complexType&gt;
      &lt;xs:attribute name='p' type='xs:unsignedInteger' use='optional'/&gt;
      &lt;xs:attribute name='n' type='xs:unsignedInteger' use='optional'/&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;

  &lt;xs:element name='d' type='empty'&gt;
    &lt;xs:complexType&gt;
      &lt;xs:attribute name='p' type='xs:unsignedInteger' use='required'/&gt;
      &lt;xs:attribute name='n' type='xs:unsignedInteger' use='optional'/&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;

  &lt;xs:element name='w' type='empty'&gt;
    &lt;xs:complexType&gt;
      &lt;xs:attribute name='n' type='xs:unsignedInteger' use='required'/&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;

  &lt;xs:simpleType name='empty'&gt;
    &lt;xs:restriction base='xs:string'&gt;
      &lt;xs:enumeration value=''/&gt;
    &lt;/xs:restriction&gt;
  &lt;/xs:simpleType&gt;

&lt;/xs:schema&gt;</pre></div></p>
    <hr /><a name="appendices" id="appendices"></a><h2>Appendices</h2><hr /><a name="appendix-docinfo" id="appendix-docinfo"></a><h3>Appendix A: Document Information</h3><p class="indent">
            Series: <a href="http://xmpp.org/extensions/">XEP</a><br />
            Number: 0301<br />
            Publisher: <a href="/xsf/">XMPP Standards Foundation</a><br />
            Status: 
            <a href="http://xmpp.org/extensions/xep-0001.html#states-Experimental">Experimental</a><br />
            Type:
            <a href="http://xmpp.org/extensions/xep-0001.html#types-Standards Track">Standards Track</a><br />
            Version: 0.2<br />
            Last Updated: 2012-03-19<br />
                Approving Body: <a href="http://xmpp.org/council/">XMPP Council</a><br />Dependencies: XMPP Core, XEP-0020<br />
                Supersedes: None<br />
                Superseded By: None<br />
            Short Name: NOT_YET_ASSIGNED<br />
              Source Control: 
                <a class="standardsButton" href="http://gitorious.org/xmpp/xmpp/blobs/master/extensions/xep-0301.xml">HTML</a><br />
            This document in other formats: 
                <a class="standardsButton" href="http://xmpp.org/extensions/xep-0301.xml">XML</a> 
                <a class="standardsButton" href="http://xmpp.org/extensions/xep-0301.pdf">PDF</a></p><hr /><a name="appendix-authorinfo" id="appendix-authorinfo"></a><h3>Appendix B: Author Information</h3><div class="indent"><h3>Mark Rejhon</h3><p class="indent">
        Organization: RealJabber.org and Rejhon Technologies Inc.<br />
        Email:
        <a href="mailto:mark@realjabber.org">mark@realjabber.org</a><br />
        JabberID: 
        <a href="xmpp:markybox@gmail.com">markybox@gmail.com</a><br />
        URI: 
        <a href="http://www.realjabber.com">http://www.realjabber.com</a><br /></p></div><hr /><a name="appendix-legal" id="appendix-legal"></a><h3>Appendix C: Legal Notices</h3><div class="indent"><h4>Copyright</h4>This XMPP Extension Protocol is copyright © 1999 - 2012 by the <a href="http://xmpp.org/">XMPP Standards Foundation</a> (XSF).<h4>Permissions</h4>Permission is hereby granted, free of charge, to any person obtaining a copy of this specification (the "Specification"), to make use of the Specification without restriction, including without limitation the rights to implement the Specification in a software program, deploy the Specification in a network service, and copy, modify, merge, publish, translate, distribute, sublicense, or sell copies of the Specification, and to permit persons to whom the Specification is furnished to do so, subject to the condition that the foregoing copyright notice and this permission notice shall be included in all copies or substantial portions of the Specification. Unless separate permission is granted, modified works that are redistributed shall not contain misleading information regarding the authors, title, number, or publisher of the Specification, and shall not claim endorsement of the modified works by the authors, any organization or project to which the authors belong, or the XMPP Standards Foundation.<h4>Disclaimer of Warranty</h4><span style="font-weight: bold">## NOTE WELL: This Specification is provided on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied, including, without limitation, any warranties or conditions of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A PARTICULAR PURPOSE. ##</span><h4>Limitation of Liability</h4>In no event and under no legal theory, whether in tort (including negligence), contract, or otherwise, unless required by applicable law (such as deliberate and grossly negligent acts) or agreed to in writing, shall the XMPP Standards Foundation or any author of this Specification be liable for damages, including any direct, indirect, special, incidental, or consequential damages of any character arising from, out of, or in connection with the Specification or the implementation, deployment, or other use of the Specification (including but not limited to damages for loss of goodwill, work stoppage, computer failure or malfunction, or any and all other commercial damages or losses), even if the XMPP Standards Foundation or such author has been advised of the possibility of such damages.<h4>IPR Conformance</h4>This XMPP Extension Protocol has been contributed in full conformance with the XSF's Intellectual Property Rights Policy (a copy of which can be found at &lt;<a href="http://xmpp.org/about-xmpp/xsf/xsf-ipr-policy/">http://xmpp.org/about-xmpp/xsf/xsf-ipr-policy/</a>&gt; or obtained by writing to XMPP Standards Foundation, 1899 Wynkoop Street, Suite 600, Denver, CO 80202 USA).</div><hr /><a name="appendix-xmpp" id="appendix-xmpp"></a><h3>Appendix D: Relation to XMPP</h3><p class="indent">The Extensible Messaging and Presence Protocol (XMPP) is defined in the XMPP Core (RFC 3920) and XMPP IM (RFC 3921) specifications contributed by the XMPP Standards Foundation to the Internet Standards Process, which is managed by the Internet Engineering Task Force in accordance with RFC 2026. Any protocol defined in this document has been developed outside the Internet Standards Process and is to be understood as an extension to XMPP rather than as an evolution, development, or modification of XMPP itself.</p><hr /><a name="appendix-discuss" id="appendix-discuss"></a><h3>Appendix E: Discussion Venue</h3><p class="indent">The primary venue for discussion of XMPP Extension Protocols is the &lt;<a href="http://mail.jabber.org/mailman/listinfo/standards">standards@xmpp.org</a>&gt; discussion list.</p><p class="indent">Discussion on other xmpp.org discussion lists might also be appropriate; see &lt;<a href="http://xmpp.org/about/discuss.shtml">http://xmpp.org/about/discuss.shtml</a>&gt; for a complete list.</p><p class="indent">Errata can be sent to &lt;<a href="mailto:editor@xmpp.org">editor@xmpp.org</a>&gt;.</p><hr /><a name="appendix-conformance" id="appendix-conformance"></a><h3>Appendix F: Requirements Conformance</h3><p class="indent">The following requirements keywords as used in this document are to be interpreted as described in <a href="http://www.ietf.org/rfc/rfc2119.txt">RFC 2119</a>: "MUST", "SHALL", "REQUIRED"; "MUST NOT", "SHALL NOT"; "SHOULD", "RECOMMENDED"; "SHOULD NOT", "NOT RECOMMENDED"; "MAY", "OPTIONAL".</p><hr /><a name="appendix-notes" id="appendix-notes"></a><h3>Appendix G: Notes</h3><div class="indent"><p><a name="nt-id328528" id="nt-id328528">1</a>. RealJabber.org is the author's web site containing work related to this specification, including animation examples of what real time text looks like. &lt;<a href="http://www.realjabber.org">http://www.realjabber.org</a>&gt;.</p><p><a name="nt-id324509" id="nt-id324509">2</a>. IETF RFC 4103: RTP Payload for Text Conversation. &lt;<a href="http://tools.ietf.org/html/rfc4103">http://tools.ietf.org/html/rfc4103</a>&gt;.</p><p><a name="nt-id324529" id="nt-id324529">3</a>. ITU-T T.140: Protocol for multimedia application text conversation. &lt;<a href="http://www.itu.int/rec/T-REC-T.140">http://www.itu.int/rec/T-REC-T.140</a>&gt;.</p><p><a name="nt-id324554" id="nt-id324554">4</a>. AOL AIM Real Time Text: &lt;<a href="http://help.aol.com/help/microsites/microsite.do?cmd=displayKC&amp;externalId=223568">http://help.aol.com/help/microsites/microsite.do?cmd=displayKC&amp;externalId=223568</a>&gt;.</p><p><a name="nt-id324576" id="nt-id324576">5</a>. Reach112: European emergency service with real-time text. &lt;<a href="http://www.reach112.eu">http://www.reach112.eu</a>&gt;.</p><p><a name="nt-id331534" id="nt-id331534">6</a>. ITU-T Rec. F.703: Multimedia conversational services. &lt;<a href="http://www.itu.int/rec/T-REC-F.703">http://www.itu.int/rec/T-REC-F.703</a>&gt;.</p><p><a name="nt-id331861" id="nt-id331861">7</a>. RFC 6120: Extensible Messaging and Presence Protocol (XMPP): Core &lt;<a href="http://tools.ietf.org/html/rfc6120">http://tools.ietf.org/html/rfc6120</a>&gt;.</p><p><a name="nt-id331892" id="nt-id331892">8</a>. ITU-T Rec. F.700: Framework Recommendation for multimedia services &lt;<a href="http://www.itu.int/rec/T-REC-F.700">http://www.itu.int/rec/T-REC-F.700</a>&gt;.</p><p><a name="nt-id332497" id="nt-id332497">9</a>. XML: Extensible Markup Language 1.0 (Fifth Edition). &lt;<a href="http://www.w3.org/TR/xml/">http://www.w3.org/TR/xml/</a>&gt;.</p><p><a name="nt-id332841" id="nt-id332841">10</a>. XEP-0030: Service Discovery &lt;<a href="http://xmpp.org/extensions/xep-0030.html">http://xmpp.org/extensions/xep-0030.html</a>&gt;.</p><p><a name="nt-id332964" id="nt-id332964">11</a>. XEP-0206: XMPP Over BOSH &lt;<a href="http://xmpp.org/extensions/xep-0206.html">http://xmpp.org/extensions/xep-0206.html</a>&gt;.</p><p><a name="nt-id333497" id="nt-id333497">12</a>. XEP-0085: Chat State Notifications &lt;<a href="http://xmpp.org/extensions/xep-0085.html">http://xmpp.org/extensions/xep-0085.html</a>&gt;.</p><p><a name="nt-id333586" id="nt-id333586">13</a>. XEP-0045: Multi-User Chat &lt;<a href="http://xmpp.org/extensions/xep-0045.html">http://xmpp.org/extensions/xep-0045.html</a>&gt;.</p><p><a name="nt-id324336" id="nt-id324336">14</a>. XEP-0296: Best Practices for Resource Locking &lt;<a href="http://xmpp.org/extensions/xep-0296.html">http://xmpp.org/extensions/xep-0296.html</a>&gt;.</p><p><a name="nt-id333792" id="nt-id333792">15</a>. XEP-0286: XMPP on Mobile Devices &lt;<a href="http://xmpp.org/extensions/xep-0286.html">http://xmpp.org/extensions/xep-0286.html</a>&gt;.</p><p><a name="nt-id333837" id="nt-id333837">16</a>. XEP-0166: Jingle &lt;<a href="http://xmpp.org/extensions/xep-0166.html">http://xmpp.org/extensions/xep-0166.html</a>&gt;.</p><p><a name="nt-id334494" id="nt-id334494">17</a>. IETF RFC 5194: Framework for Real-Time Text over IP Using the Session Initiation Protocol (SIP). &lt;<a href="http://tools.ietf.org/html/rfc5194">http://tools.ietf.org/html/rfc5194</a>&gt;.</p><p><a name="nt-id334654" id="nt-id334654">18</a>. XEP-0205: Best Practices to Discourage Denial of Service Attacks &lt;<a href="http://xmpp.org/extensions/xep-0205.html">http://xmpp.org/extensions/xep-0205.html</a>&gt;.</p><p><a name="nt-id334684" id="nt-id334684">19</a>. XEP-0184: Message Delivery Receipts &lt;<a href="http://xmpp.org/extensions/xep-0184.html">http://xmpp.org/extensions/xep-0184.html</a>&gt;.</p><p><a name="nt-id334707" id="nt-id334707">20</a>. XEP-0199: XMPP Ping &lt;<a href="http://xmpp.org/extensions/xep-0199.html">http://xmpp.org/extensions/xep-0199.html</a>&gt;.</p></div><hr /><a name="appendix-revs" id="appendix-revs"></a><h3>Appendix H: Revision History</h3><p>Note: Older versions of this specification might be available at <a href="http://xmpp.org/extensions/attic/">http://xmpp.org/extensions/attic/</a></p><div class="indent"><h4>Version 0.2 (2012-03-19)</h4><div class="indent"><p>Lots of edits. Simplifications, improvements and corrections. Forward and backward compatible with version 0.1.</p> (MDR)
    </div><h4>Version 0.1 (2011-06-29)</h4><div class="indent"><p>Initial published version.</p> (psa)
    </div><h4>Version 0.0.3 (2011-06-25)</h4><div class="indent"><p>Third draft, recommended edits.</p> (MDR)
    </div><h4>Version 0.0.2 (2011-06-15)</h4><div class="indent"><p>Second draft.</p> (MDR)
    </div><h4>Version 0.0.1 (2011-02-21)</h4><div class="indent"><p>First draft.</p> (MDR)
    </div></div><hr /><p>END</p></body></html>
