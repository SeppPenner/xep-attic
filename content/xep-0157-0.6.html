<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>XEP-0157: Contact Addresses for XMPP Services</title>
<link rel="stylesheet" type="text/css" href="/xmpp.css">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
<meta name="DC.Title" content="Contact Addresses for XMPP Services">
<meta name="DC.Creator" content="Peter Saint-Andre">
<meta name="DC.Creator" content="Jacek Konieczny">
<meta name="DC.Description" content="This document defines a method for specifying contact addresses related to an XMPP service.">
<meta name="DC.Publisher" content="XMPP Standards Foundation">
<meta name="DC.Contributor" content="XMPP Extensions Editor">
<meta name="DC.Date" content="2007-01-25">
<meta name="DC.Type" content="XMPP Extension Protocol">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="XEP-0157">
<meta name="DC.Language" content="en">
<meta name="DC.Rights" content="This XMPP Extension Protocol is copyright 1999 - 2007 by the XMPP Standards Foundation (XSF) and is in full conformance with the XSF's Intellectual Property Rights Policy &lt;http://www.xmpp.org/extensions/ipr-policy.shtml&gt;. This material may be distributed only subject to the terms and conditions set forth in the Creative Commons Attribution License (&lt;http://creativecommons.org/licenses/by/2.5/&gt;).">
</head>
<body>
<h1>XEP-0157: Contact Addresses for XMPP Services</h1>
<p>This document defines a method for specifying contact addresses related to an XMPP service.</p>
<p><hr></p>
<p style="color:red">NOTICE: This document is currently within Last Call or under consideration by the XMPP Council for advancement to the next stage in the XSF standards process.</p>
<p><hr></p>
<h2>Document Information</h2>
<p class="indent">
            Series: <a href="http://www.xmpp.org/extensions/">XEP</a><br>
            Number: 0157<br>
            Publisher: <a href="/xsf/">XMPP Standards Foundation</a><br>
            Status: 
            <a href="http://www.xmpp.org/extensions/xep-0001.html#states-Proposed">Proposed</a><br>
            Type:
            <a href="http://www.xmpp.org/extensions/xep-0001.html#types-Informational">Informational</a><br>
            Version: 0.6<br>
            Last Updated: 2007-01-25<br>
                Approving Body: <a href="http://www.xmpp.org/council/">XMPP Council</a><br>Dependencies: XMPP Core<br>
                Supersedes: None<br>
                Superseded By: None<br>
            Short Name: N/A<br>
              Wiki Page: &lt;<a href="http://wiki.jabber.org/index.php/Contact%20Addresses%20for%20XMPP%20Services%20(XEP-0157)">http://wiki.jabber.org/index.php/Contact Addresses for XMPP Services (XEP-0157)</a>&gt;
            </p>
<h2>Author Information</h2>
<div class="indent">
<h3>Peter Saint-Andre</h3>
<p class="indent">
        Email:
        <a href="mailto:stpeter@jabber.org">stpeter@jabber.org</a><br>
        JID: 
        <a href="xmpp:stpeter@jabber.org">stpeter@jabber.org</a></p>
<h3>Jacek Konieczny</h3>
<p class="indent">
        Email:
        <a href="mailto:jajcus@jajcus.net">jajcus@jajcus.net</a><br>
        JID: 
        <a href="xmpp:jajcus@jabber.bnet.pl">jajcus@jabber.bnet.pl</a></p>
</div>
<h2>Legal Notice</h2>
<p class="indent">This XMPP Extension Protocol is copyright 1999 - 2007 by the <a href="http://www.xmpp.org/xsf/">XMPP Standards Foundation</a> (XSF) and is in full conformance with the XSF's Intellectual Property Rights Policy &lt;<a href="http://www.xmpp.org/extensions/ipr-policy.shtml">http://www.xmpp.org/extensions/ipr-policy.shtml</a>&gt;. This material may be distributed only subject to the terms and conditions set forth in the Creative Commons Attribution License (&lt;<a href="http://creativecommons.org/licenses/by/2.5/">http://creativecommons.org/licenses/by/2.5/</a>&gt;).</p>
<h2>Discussion Venue</h2>
<p class="indent">The preferred venue for discussion of this document is the Standards discussion list: &lt;<a href="http://mail.jabber.org/mailman/listinfo/standards">http://mail.jabber.org/mailman/listinfo/standards</a>&gt;.</p>
<h2>Relation to XMPP</h2>
<p class="indent">The Extensible Messaging and Presence Protocol (XMPP) is defined in the XMPP Core (RFC 3920) and XMPP IM (RFC 3921) specifications contributed by the XMPP Standards Foundation to the Internet Standards Process, which is managed by the Internet Engineering Task Force in accordance with RFC 2026. Any protocol defined in this document has been developed outside the Internet Standards Process and is to be understood as an extension to XMPP rather than as an evolution, development, or modification of XMPP itself.</p>
<h2>Conformance Terms</h2>
<p class="indent">The following keywords as used in this document are to be interpreted as described in RFC 2119: "MUST", "SHALL", "REQUIRED"; "MUST NOT", "SHALL NOT"; "SHOULD", "RECOMMENDED"; "SHOULD NOT", "NOT RECOMMENDED"; "MAY", "OPTIONAL".</p>
<p><hr></p>
<h2>Table of Contents</h2>
<div class="indent"><dl>
<dt>1.  <a href="#intro">Introduction</a>
</dt>
<dt>2.  <a href="#email">Email Address</a>
</dt>
<dt>3.  <a href="#xmpp">XMPP Addresses</a>
</dt>
<dt>4.  <a href="#deploy">Deployment Notes</a>
</dt>
<dt>5.  <a href="#security">Security Considerations</a>
</dt>
<dt>6.  <a href="#iana">IANA Considerations</a>
</dt>
<dt>7.  <a href="#registrar">XMPP Registrar Considerations</a>
</dt>
<dl><dt>7.1.  <a href="#registrar-formtype">Field Standardization</a>
</dt></dl>
<dt><a href="#notes">Notes</a></dt>
<dt><a href="#revs">Revision History</a></dt>
</dl></div>
<p><hr></p>
<h2>1.
       <a name="intro">Introduction</a>
</h2>
  <p class="" style=""><span class="em">Note: This document describes a protocol or best practice that is intended for incorporation into the specification that will supersede <span class="ref" style="">RFC 3920</span>  [<a href="#nt-id2251072">1</a>] within the Internet Standards Process, i.e., <span class="ref" style="">rfc3920bis</span>  [<a href="#nt-id2251093">2</a>]. This document is provided only for the purpose of open community discussion of the potential modification and will be obsoleted as soon as the relevant RFC is published.</span></p>
  <p class="" style=""><span class="ref" style="">RFC 2142</span>  [<a href="#nt-id2251110">3</a>] specifies conventional electronic mailbox names for common services, roles, and functions related to SMTP, NNTP, and HTTP (such as postmaster@domain.tld, usenet@domain.tld, and webmaster@domain.tld). However, no such conventional email address or XMPP address (JID) has been specified for XMPP services. This document remedies that oversight.</p>
<h2>2.
       <a name="email">Email Address</a>
</h2>
  <p class="" style="">Consistent with <span class="cite">RFC 2142</span>, a domain that offers a Jabber/XMPP service SHOULD provide an Internet mailbox of "XMPP" for inquiries related to that service.</p>
<h2>3.
       <a name="xmpp">XMPP Addresses</a>
</h2>
  <p class="" style="">The administrators of an XMPP service may desire to advertise contact information related to that service.
     [<a href="#nt-id2250934">4</a>]
  This contact information may include email addresses, web URLs, and JabberIDs for specific roles and functions such as the service administrators, abuse reports, customer feedback, sales inquiries, technical support, and security concerns. For this purpose, domains SHOULD support the electronic mailboxes required by <span class="cite">RFC 2142</span>. However, additional contact mechanisms may be desirable, and it would be helpful if those who want to initiate contact could discover the contact information using standard XMPP extensions, specifically <span class="ref" style="">Service Discovery</span>  [<a href="#nt-id2251011">6</a>]. To make such discovery possible, we specify a <span class="ref" style="">Service Discovery Extensions</span>  [<a href="#nt-id2251034">7</a>] mechanism that a server SHOULD return in response to service discovery information ("disco#info") requests sent to the bare domain of the server. This information MUST be scoped using a FORM_TYPE of "http://jabber.org/network/serverinfo" (as already specified in <span class="cite">XEP-0128</span>) and data form fields registered for this purpose as defined in the <a href="#registrar">XMPP Registrar Considerations</a> section of this document.</p>
  <p class="" style="">To illustrate this usage, consider the following example of a disco#info request sent to the mythical shakespeare.lit XMPP server:</p>
  <a name="example-1"></a><p class="caption">Example 1. Entity queries server for information</p>
<div class="indent"><pre>
&lt;iq from='juliet@capulet.com/chamber'
    to='shakespeare.lit'
    id='disco1'
    type='get'&gt;
  &lt;query xmlns='http://jabber.org/protocol/disco#info'/&gt;
&lt;/iq&gt;
  </pre></div>
  <a name="example-2"></a><p class="caption">Example 2. Server communicates information</p>
<div class="indent"><pre>
&lt;iq from='shakespeare.lit'
    to='juliet@capulet.com/chamber'
    id='disco1'
    type='result'&gt;
  &lt;query xmlns='http://jabber.org/protocol/disco#info'&gt;
    &lt;identity category='server' type='im'/&gt;
    &lt;feature var='http://jabber.org/protocol/disco'/&gt;
    &lt;x xmlns='jabber:x:data' type='result'&gt;
      &lt;field var='FORM_TYPE' type='hidden'&gt;
        &lt;value&gt;http://jabber.org/network/serverinfo&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='abuse-addresses'&gt;
        &lt;value&gt;mailto:abuse@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;xmpp:abuse@shakespeare.lit&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='admin-addresses'&gt;
        &lt;value&gt;mailto:xmpp@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;xmpp:admins@shakespeare.lit&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='feedback-addresses'&gt;
        &lt;value&gt;http://shakespeare.lit/feedback.php&lt;/value&gt;
        &lt;value&gt;mailto:feedback@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;xmpp:feedback@shakespeare.lit&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='sales-addresses'&gt;
        &lt;value&gt;xmpp:bard@shakespeare.lit&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='security-addresses'&gt;
        &lt;value&gt;xmpp:security@shakespeare.lit&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='support-addresses'&gt;
        &lt;value&gt;http://shakespeare.lit/support.php&lt;/value&gt;
        &lt;value&gt;xmpp:support@shakespeare.lit&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/query&gt;
&lt;/iq&gt;
  </pre></div>
<h2>4.
       <a name="deploy">Deployment Notes</a>
</h2>
  <p class="" style="">The "domain.tld" at which the XMPP service is hosted need not be the same as the "domain.tld" at which the email service is hosted. For example, it is common for a service provider to host its XMPP service at a hostname such as "jabber.example.org" whereas email related to the service provider is sent to a hostname of "example.org". Thus while the XMPP address and email address may be the same for some service providers (e.g., both "xmpp@example.com"), that similarity is not necessary.</p>
  <p class="" style="">Although some service providers that use the same address for both XMPP and email messaging may integrate delivery of messages sent by those mechanisms (e.g., XMPP messages sent while a user is offline are redirected to email delivery), XMPP and email remain separate messaging systems.</p>
  <p class="" style="">A service provider that supports the functionality specified herein may advertise the service through a Mailto URI (see <span class="ref" style="">RFC 2368</span>  [<a href="#nt-id2250616">8</a>]) of &lt;mailto:xmpp@domain.tld&gt; and through appropriate XMPP URIs (see <span class="ref" style="">RFC 4622</span>  [<a href="#nt-id2250640">9</a>]) such as &lt;xmpp:admins@domain.tld&gt; or (per <span class="ref" style="">XMPP URI Query Components</span>  [<a href="#nt-id2250665">10</a>]) &lt;xmpp:admins@domain.tld?message&gt;.</p>
  <p class="" style="">It is a matter of service policy whether the XMPP addresses provided are dedicated accounts or aliases that redirect communications to the appropriate accounts.</p>
<h2>5.
       <a name="security">Security Considerations</a>
</h2>
  <p class="" style="">Providing or advertising contact addresses may open those addresses to unwanted communication. Server administrators should balance the need for openness with the desire for control over communication with customers and peers.</p>
<h2>6.
       <a name="iana">IANA Considerations</a>
</h2>
  <p class="" style="">This document requires no interaction with the <span class="ref" style="">Internet Assigned Numbers Authority (IANA)</span>  [<a href="#nt-id2260818">11</a>].</p>
<h2>7.
       <a name="registrar">XMPP Registrar Considerations</a>
</h2>
  <p class="" style="">The <span class="ref" style="">XMPP Registrar</span>  [<a href="#nt-id2260854">12</a>] shall include the following information in its registries.</p>
  <div class="indent">
<h3>7.1 <a name="registrar-formtype">Field Standardization</a>
</h3>
    <p class="" style=""><span class="ref" style="">Field Standardization for Data Forms</span>  [<a href="#nt-id2260893">13</a>] defines a process for standardizing the fields used within Data Forms qualified by a particular namespace, and <span class="cite">XEP-0128</span> describes how to use field standardization in the context of service discovery. This section registers fields for server information scoped by the "http://jabber.org/network/serverinfo" FORM_TYPE.</p>
    <p class="caption">Registry Submission</p>
<div class="indent"><pre>
&lt;form_type&gt;
  &lt;name&gt;http://jabber.org/network/serverinfo&lt;/name&gt;
  &lt;doc&gt;XEP-0157&lt;/doc&gt;
  &lt;desc&gt;
    Forms enabling the communication of contact addresses
    and other server information.
  &lt;/desc&gt;
  &lt;field
      var='abuse-addresses'
      type='list-multi'
      label='One or more addresses for communication related to abusive traffic'/&gt;
  &lt;field
      var='feedback-addresses'
      type='list-multi'
      label='One or more addresses for customer feedback'/&gt;
  &lt;field
      var='sales-addresses'
      type='list-multi'
      label='One or more addresses for communication related to sales and marketing'/&gt;
  &lt;field
      var='security-addresses'
      type='list-multi'
      label='One or more addresses for communication related to security concerns'/&gt;
  &lt;field
      var='support-addresses'
      type='list-multi'
      label='One or more addresses for customer support'/&gt;
&lt;/form_type&gt;
    </pre></div>
  </div>
<p><hr></p>
<a name="notes"></a><h2>Notes</h2>
<div class="indent">
<p><a name="nt-id2251072">1</a>. RFC 3920: Extensible Messaging and Presence Protocol (XMPP): Core &lt;<a href="http://www.ietf.org/rfc/rfc3920.txt">http://www.ietf.org/rfc/rfc3920.txt</a>&gt;.</p>
<p><a name="nt-id2251093">2</a>. rfc3921bis: proposed revisions to Extensible Messaging and Presence Protocol (XMPP): Core &lt;<a href="http://www.ietf.org/internet-drafts/draft-saintandre-rfc3920bis-00.txt">http://www.ietf.org/internet-drafts/draft-saintandre-rfc3920bis-00.txt</a>&gt;. (work in progress)</p>
<p><a name="nt-id2251110">3</a>. RFC 2142: Mailbox Names for Common Services, Roles and Functions &lt;<a href="http://www.ietf.org/rfc/rfc2142.txt">http://www.ietf.org/rfc/rfc2142.txt</a>&gt;.</p>
<p><a name="nt-id2250934">4</a>. Many existing Jabber/XMPP server implementations use the bare domain (&lt;domain.tld&gt;) of the server (e.g., "example.org") as an alias for the server administrators, such that a &lt;message/&gt; stanza addressed to that domain name is delivered to the JIDs of the server administrators. (Currently, this functionality does not apply to &lt;iq/&gt; or &lt;presence/&gt; stanzas.) Unfortunately, using the "domain.tld" address as a way to direct messages to the server administrators may result in overloading of the bare domain address (i.e., it may be desirable to send messages to the server's address without having those messages delivered to the server admins, for example if the server doubles as a <span class="ref" style="">Publish-Subscribe</span>  [<a href="#nt-id2250976">5</a>] service). Therefore, it is instead RECOMMENDED to support service discovery of contact addresses as specified herein.</p>
<p><a name="nt-id2250976">5</a>. XEP-0060: Publish-Subscribe &lt;<a href="http://www.xmpp.org/extensions/xep-0060.html">http://www.xmpp.org/extensions/xep-0060.html</a>&gt;.</p>
<p><a name="nt-id2251011">6</a>. XEP-0030: Service Discovery &lt;<a href="http://www.xmpp.org/extensions/xep-0030.html">http://www.xmpp.org/extensions/xep-0030.html</a>&gt;.</p>
<p><a name="nt-id2251034">7</a>. XEP-0128: Service Discovery Extensions &lt;<a href="http://www.xmpp.org/extensions/xep-0128.html">http://www.xmpp.org/extensions/xep-0128.html</a>&gt;.</p>
<p><a name="nt-id2250616">8</a>. RFC 2368: The mailto URL scheme &lt;<a href="http://www.ietf.org/rfc/rfc2368.txt">http://www.ietf.org/rfc/rfc2368.txt</a>&gt;.</p>
<p><a name="nt-id2250640">9</a>. RFC 4622: Internationalized Resource Identifiers (IRIs) and Uniform Resource Identifiers (URIs) for the Extensible Messaging and Presence Protocol (XMPP) &lt;<a href="http://www.ietf.org/rfc/rfc4622.txt">http://www.ietf.org/rfc/rfc4622.txt</a>&gt;.</p>
<p><a name="nt-id2250665">10</a>. XEP-0147: XMPP URI Query Components &lt;<a href="http://www.xmpp.org/extensions/xep-0147.html">http://www.xmpp.org/extensions/xep-0147.html</a>&gt;.</p>
<p><a name="nt-id2260818">11</a>. The Internet Assigned Numbers Authority (IANA) is the central coordinator for the assignment of unique parameter values for Internet protocols, such as port numbers and URI schemes. For further information, see &lt;<a href="http://www.iana.org/">http://www.iana.org/</a>&gt;.</p>
<p><a name="nt-id2260854">12</a>. The XMPP Registrar maintains a list of reserved protocol namespaces as well as registries of parameters used in the context of XMPP extension protocols approved by the XMPP Standards Foundation. For further information, see &lt;<a href="http://www.xmpp.org/registrar/">http://www.xmpp.org/registrar/</a>&gt;.</p>
<p><a name="nt-id2260893">13</a>. XEP-0068: Field Data Standardization for Data Forms &lt;<a href="http://www.xmpp.org/extensions/xep-0068.html">http://www.xmpp.org/extensions/xep-0068.html</a>&gt;.</p>
</div>
<p><hr></p>
<a name="revs"></a><h2>Revision History</h2>
<div class="indent">
<h4>Version 0.6 (2007-01-25)</h4>
<div class="indent">
<p class="" style="">Per Council feedback, restored service discovery of XMPP contact addresses from version 0.1 of spec.</p> (psa)
    </div>
<h4>Version 0.5 (2007-01-06)</h4>
<div class="indent">
<p class="" style="">Changed XMPP address from domain.tld/admin to xmpp@domain.tld.</p> (psa)
    </div>
<h4>Version 0.4 (2007-01-05)</h4>
<div class="indent">
<p class="" style="">Changed XMPP address from domain.tld to domain.tld/admin to prevent overloading.</p> (psa)
    </div>
<h4>Version 0.3 (2006-07-31)</h4>
<div class="indent">
<p class="" style="">Recommended support for RFC2142-style mailbox in addition to XMPP address.</p> (psa)
    </div>
<h4>Version 0.2 (2006-07-18)</h4>
<div class="indent">
<p class="" style="">Removed extended addressing recommendations pending further review.</p> (psa)
    </div>
<h4>Version 0.1 (2005-09-08)</h4>
<div class="indent">
<p class="" style="">Initial version.</p> (psa)
    </div>
<h4>Version 0.0.2 (2005-09-06)</h4>
<div class="indent">
<p class="" style="">Added security considerations and XMPP Registrar considerations.</p> (psa)
    </div>
<h4>Version 0.0.1 (2005-08-27)</h4>
<div class="indent">
<p class="" style="">First draft.</p> (psa/jk)
    </div>
</div>
<p><hr></p>
<p>END</p>
</body>
</html>
