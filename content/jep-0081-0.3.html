<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<title>JEP-0081: XMPP/Jabber MIME Type</title>
<link rel="stylesheet" type="text/css" href="jep.css">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
<meta name="DC.Title" content="XMPP/Jabber MIME Type">
<meta name="DC.Creator" content="Joe Hildebrand">
<meta name="DC.Creator" content="Peter Saint-Andre">
<meta name="DC.Description" content="Note: This proposal has been superseded by the MIME type defined in draft-ietf-xmpp-e2e and the URI scheme defined in draft-saintandre-ietf-xmpp-uri; please refer to those documents for the successor protocols.">
<meta name="DC.Publisher" content="Jabber Software Foundation">
<meta name="DC.Contributor" content="JEP Editor">
<meta name="DC.Date" content="2004-07-26">
<meta name="DC.Type" content="Jabber Enhancement Proposal">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="JEP-0081">
<meta name="DC.Language" content="en">
<meta name="DC.Rights" content="This Jabber Enhancement Proposal is copyright 1999 - 2004 by the Jabber Software Foundation (JSF) and is in full conformance with the JSF's Intellectual Property Rights Policy &lt;http://www.jabber.org/jsf/ipr-policy.php&gt;. This material may be distributed only subject to the terms and conditions set forth in the Open Publication License, v1.0 or later (the latest version is presently available at &lt;http://www.opencontent.org/openpub/&gt;).">
</head>
<body bgcolor="#FFFFFF">
<h1>JEP-0081: XMPP/Jabber MIME Type</h1>
<p>Note: This proposal has been superseded by the MIME type defined in draft-ietf-xmpp-e2e and the URI scheme defined in draft-saintandre-ietf-xmpp-uri; please refer to those documents for the successor protocols.</p>
<p><hr></p>
<p style="color:red">WARNING: This JEP has been retracted by the author(s). Implementation of the protocol described herein is not recommended. Developers desiring similar functionality should implement the protocol that supersedes this one (if any).</p>
<p><hr></p>
<h2>JEP Information</h2>
<p class="indent">
            Status: Retracted<br>
            Type: Standards Track<br>
            Number: 0081<br>
            Version: 0.3<br>
            Last Updated: 2004-07-26<br>
            JIG: Standards JIG<br>
                Approving Body: Jabber Council<br>
                Dependencies: None<br>
                Supersedes: None<br>
                Superseded By: None<br>
            Short Name: N/A<br>
</p>
<h2>Author Information</h2>
<h3>Joe Hildebrand</h3>
<p class="indent">
        Email: jhildebrand@jabber.com<br>
        JID: hildjj@jabber.org</p>
<h3>Peter Saint-Andre</h3>
<p class="indent">
        Email: stpeter@jabber.org<br>
        JID: stpeter@jabber.org</p>
<h2>Legal Notice</h2>
<p class="indent">This Jabber Enhancement Proposal is copyright 1999 - 2004 by the Jabber Software Foundation (JSF) and is in full conformance with the JSF's Intellectual Property Rights Policy &lt;<a href="http://www.jabber.org/jsf/ipr-policy.php">http://www.jabber.org/jsf/ipr-policy.php</a>&gt;. This material may be distributed only subject to the terms and conditions set forth in the Open Publication License, v1.0 or later (the latest version is presently available at &lt;<a href="http://www.opencontent.org/openpub/">http://www.opencontent.org/openpub/</a>&gt;).</p>
<h2>Discussion Venue</h2>
<p class="indent">The preferred venue for discussion of this document is the Standards-JIG discussion list: &lt;<a href="http://mail.jabber.org/mailman/listinfo/standards-jig">http://mail.jabber.org/mailman/listinfo/standards-jig</a>&gt;.</p>
<p class="indent">Given that this JEP normatively references IETF technologies, discussion on the JSF-IETF list may also be appropriate (see &lt;<a href="http://mail.jabber.org/mailman/listinfo/jsf-ietf">http://mail.jabber.org/mailman/listinfo/jsf-ietf</a>&gt; for details).</p>
<h2>Relation to XMPP</h2>
<p class="indent">The Extensible Messaging and Presence Protocol (XMPP) is defined in the XMPP Core and XMPP IM specifications contributed by the Jabber Software Foundation to the Internet Standards Process, which is managed by the Internet Engineering Task Force in accordance with RFC 2026. Any protocols defined in this JEP have been developed outside the Internet Standards Process and are to be understood as extensions to XMPP rather than as an evolution, development, or modification of XMPP itself.</p>
<h2>Conformance Terms</h2>
<p class="indent">The keywords &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;REQUIRED&quot;, &quot;SHALL&quot;, &quot;SHALL NOT&quot;, &quot;SHOULD&quot;, &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;, &quot;NOT RECOMMENDED&quot;, &quot;MAY&quot;, and &quot;OPTIONAL&quot; in this document are to be interpreted as described in RFC 2119.</p>
<p><hr></p>
<h2>Table of Contents</h2>
<dl>
<dt>1.  <a href="#sect-id2595939">Introduction</a>
</dt>
<dt>2.  <a href="#sect-id2596084">Overview</a>
</dt>
<dt>3.  <a href="#sect-id2596154">Use Cases</a>
</dt>
<dl>
<dt>3.1.  <a href="#sect-id2596296">Sending a Message</a>
</dt>
<dt>3.2.  <a href="#sect-id2601789">Starting a Chat</a>
</dt>
<dt>3.3.  <a href="#sect-id2601813">Joining a Groupchat Room</a>
</dt>
<dt>3.4.  <a href="#sect-id2601841">Subscribing to Presence</a>
</dt>
<dt>3.5.  <a href="#sect-id2601869">Requesting a vCard</a>
</dt>
<dt>3.6.  <a href="#sect-id2601896">Registering with a Service</a>
</dt>
<dt>3.7.  <a href="#sect-id2601925">Searching a Directory</a>
</dt>
<dt>3.8.  <a href="#sect-id2601955">Making a Service Discovery Request</a>
</dt>
</dl>
<dt>4.  <a href="#sect-id2601985">Authentication</a>
</dt>
<dt>5.  <a href="#sect-id2602035">Security Considerations</a>
</dt>
<dt>6.  <a href="#sect-id2602056">IANA Considerations</a>
</dt>
<dt>7.  <a href="#sect-id2602074">Jabber Registrar Considerations</a>
</dt>
<dt>8.  <a href="#sect-id2602093">XML Schema</a>
</dt>
<dt>9.  <a href="#sect-id2602143">Open Issues</a>
</dt>
<dt><a href="#notes">Notes</a></dt>
<dt><a href="#revs">Revision History</a></dt>
</dl>
<p><hr></p>
<h2>1.
       <a name="sect-id2595939">Introduction</a>
</h2>
  <p class="" style=""><span style="font-style: italic">Note: This JEP has been superseded by the MIME type defined in <span class="ref">XMPP E2E</span>  [<a href="#nt-id2596096">1</a>] and the URI scheme defined in <span class="ref">XMPP URI</span>  [<a href="#nt-id2596129">2</a>]; please refer to those documents for the successor protocols.</span></p>
  <p class="" style="">The potential value of a URI scheme (see <span class="ref">RFC 2396</span>  [<a href="#nt-id2596023">3</a>]) for XMPP/Jabber has long been recognized within the Jabber community. The traditional consensus was captured in <span class="ref">Jabber URI Scheme</span>  [<a href="#nt-id2596045">4</a>]. Unfortunately, URI schemes are slow to be accepted on the Internet, such that it might be years (if ever) before widely deployed software such as web browsers would support addresses of the form &lt;xmpp:user@domain&gt;.</p>
  <p class="" style="">Thankfully, it is not necessary to define a URI scheme in order to integrate XMPP/Jabber support into the large existing base of deployed software. A well-accepted alternative approach is to define a MIME type (in accordance with <span class="ref">RFC 2045</span>  [<a href="#nt-id2596223">5</a>]) and then reconfigure the relevant server and client software to correctly handle the new MIME type. The latter approach is the one taken in the current proposal.</p>
<h2>2.
       <a name="sect-id2596084">Overview</a>
</h2>
  <p class="" style="">A MIME type of &quot;application/xmpp+xml&quot; is defined (in accordance with <span class="ref">RFC 3023</span>  [<a href="#nt-id2596170">6</a>]). Files of this MIME type would commonly be accessed with a web browser via HTTP, although other access methods are possible. On opening a file of this type, a browser would (by configuration) invoke an appropriate external software program (i.e., a Jabber client, or potentially an internal module) that would enable the user's interaction with an XMPP/Jabber server. If the user is not currently connected to a server, the invoked program would be responsible for connecting the user with appropriate prompting for authentication credentials. The file passed to the Jabber client would define parameters needed to complete a certain use case, such as starting a chat session with another user.</p>
<h2>3.
       <a name="sect-id2596154">Use Cases</a>
</h2>
  <p class="" style="">The solution must enable a user to complete the following use cases:</p>
  <ul>
    <li>Send a single message to another user.</li>
    <li>Initiate a chat session with another user.</li>
    <li>Join a groupchat room.</li>
    <li>Subscribe to another user's presence.</li>
    <li>Request another user's vCard.</li>
    <li>Send a <span class="ref">Service Discovery</span>  [<a href="#nt-id2596274">7</a>] request.</li>
    <li>Register with a service.</li>
    <li>Search a user directory.</li>
  </ul>
  <p class="" style="">These use cases are defined below.</p>
  <div class="indent">
<h3>3.1 <a name="sect-id2596296">Sending a Message</a>
</h3>
    <p class="" style="">In order to send a message to a contact, the user opens an XMPP file of the following form:</p>
    <p class="caption"></p>
<div class="indent"><pre>
&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;jabber&gt;
  &lt;message jid='stpeter@jabber.org'/&gt;
&lt;/jabber&gt;
    </pre></div>
    <p class="" style="">The browser passes this file to the helper application, which instantiates an appropriate interface for sending a message to the JID defined in the file.</p>
  </div>
  <div class="indent">
<h3>3.2 <a name="sect-id2601789">Starting a Chat</a>
</h3>
    <p class="caption"></p>
<div class="indent"><pre>
&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;jabber&gt;
  &lt;chat jid='stpeter@jabber.org'/&gt;
&lt;/jabber&gt;
    </pre></div>
    <p class="" style="">The browser passes this file to the helper application, which instantiates an appropriate interface for chatting with the JID defined in the file.</p>
  </div>
  <div class="indent">
<h3>3.3 <a name="sect-id2601813">Joining a Groupchat Room</a>
</h3>
    <p class="caption"></p>
<div class="indent"><pre>
&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;jabber&gt;
  &lt;groupchat jid='jdev@conference.jabber.org'/&gt;
&lt;/jabber&gt;
    </pre></div>
    <p class="" style="">The browser passes this file to the helper application, which instantiates an appropriate interface for joining the conference room associated with the JID defined in the file.</p>
  </div>
  <div class="indent">
<h3>3.4 <a name="sect-id2601841">Subscribing to Presence</a>
</h3>
    <p class="caption"></p>
<div class="indent"><pre>
&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;jabber&gt;
  &lt;subscribe jid='stpeter@jabber.org'/&gt;
&lt;/jabber&gt;
    </pre></div>
    <p class="" style="">The browser passes this file to the helper application, which instantiates an appropriate interface for subscribing to the presence of the JID defined in the file.</p>
  </div>
  <div class="indent">
<h3>3.5 <a name="sect-id2601869">Requesting a vCard</a>
</h3>
    <p class="caption"></p>
<div class="indent"><pre>
&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;jabber&gt;
  &lt;vcard jid='stpeter@jabber.org'/&gt;
&lt;/jabber&gt;
    </pre></div>
    <p class="" style="">The browser passes this file to the helper application, which instantiates an appropriate interface for requesting the vCard of the JID defined in the file.</p>
  </div>
  <div class="indent">
<h3>3.6 <a name="sect-id2601896">Registering with a Service</a>
</h3>
    <p class="caption"></p>
<div class="indent"><pre>
&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;jabber&gt;
  &lt;register jid='headlines.shakespeare.lit'/&gt;
&lt;/jabber&gt;
    </pre></div>
    <p class="" style="">The browser passes this file to the helper application, which instantiates an appropriate interface for registering with the service associated with the JID defined in the file.</p>
  </div>
  <div class="indent">
<h3>3.7 <a name="sect-id2601925">Searching a Directory</a>
</h3>
    <p class="caption"></p>
<div class="indent"><pre>
&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;jabber&gt;
  &lt;search jid='users.jabber.org'&gt;
    &lt;nick&gt;stpeter&lt;/nick&gt;
  &lt;/search&gt;
&lt;/jabber&gt;
    </pre></div>
    <p class="" style="">The browser passes this file to the helper application, which instantiates an appropriate interface for searching the directory associated with the JID defined in the file, including pre-populated information as specified (e.g., nick, first name, last name).</p>
  </div>
  <div class="indent">
<h3>3.8 <a name="sect-id2601955">Making a Service Discovery Request</a>
</h3>
    <p class="caption"></p>
<div class="indent"><pre>
&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;jabber&gt;
  &lt;disco jid='shakespeare.lit'&gt;
    &lt;items/&gt;
    &lt;info/&gt;
  &lt;/disco&gt;
&lt;/jabber&gt;
    </pre></div>
    <p class="" style="">The browser passes this file to the helper application, which instantiates an appropriate interface for sending a service discovery request to the JID defined in the file.</p>
  </div>
<h2>4.
       <a name="sect-id2601985">Authentication</a>
</h2>
  <p class="" style="">The solution should also enable a user to authenticate with a server using parameters defined in the file, e.g., for the purpose of single-sign-on (SSO).</p>
  <p class="caption"></p>
<div class="indent"><pre>
  &lt;connect&gt;
	&lt;host&gt;somehost&lt;/host&gt;
        &lt;ip&gt;10.1.1.1&lt;/ip&gt;
	&lt;port&gt;5222&lt;/port&gt;
	&lt;ssl/&gt;
	&lt;authenticate&gt;
	  &lt;username&gt;foo&lt;/username&gt;
	  &lt;password&gt;test&lt;/password&gt;
	  &lt;resource&gt;Work&lt;/resource&gt;
	&lt;/authenticate&gt;
  &lt;/connect&gt;
  </pre></div>
  <p class="" style="">The username, password, and resource are not required if there is some other extension inside authenticate, that, e.g. does SSO. Authenticate is mostly useful only for these SSO situations, anyway. If the user is already connected, the application SHOULD ignore the &lt;connect/&gt; block.</p>
<h2>5.
       <a name="sect-id2602035">Security Considerations</a>
</h2>
  <p class="" style="">The receiver SHOULD delete the XMPP file when done with it. This will help prevent certain HTTP caching problems.</p>
<h2>6.
       <a name="sect-id2602056">IANA Considerations</a>
</h2>
  <p class="" style="">This JEP requires registration of the &quot;application/xmpp+xml&quot; MIME type with the <span class="ref">Internet Assigned Numbers Authority (IANA)</span>  [<a href="#nt-id2602175">8</a>]. Details to follow.</p>
<h2>7.
       <a name="sect-id2602074">Jabber Registrar Considerations</a>
</h2>
  <p class="" style="">No namespaces or parameters need to be registered with the <span class="ref">Jabber Registrar</span>  [<a href="#nt-id2602114">9</a>] as a result of this JEP.</p>
<h2>8.
       <a name="sect-id2602093">XML Schema</a>
</h2>
  <p class="" style="">To follow.</p>
<h2>9.
       <a name="sect-id2602143">Open Issues</a>
</h2>
  <ol start="" type="">
    <li>Fully specify invocation process flow.</li>
    <li>Define IANA registration.</li>
    <li>Add implementation notes for server MIME type registration and HTTP Content-Type output.</li>
    <li>Add implementation notes for client handling on various platforms (e.g., DDE messages in Windows).</li>
    <li>Add optional support for authentication (e.g., for Single Sign On).</li>
  </ol>
<p><hr></p>
<a name="notes"></a><h2>Notes</h2>
<p>
<a name="nt-id2596096">1</a>. RFC 3923: End-to-End Signing and Object Encryption for the Extensible Messaging and Presence Protocol (XMPP) &lt;<a href="http://www.ietf.org/rfc/rfc3923.txt">http://www.ietf.org/rfc/rfc3923.txt</a>&gt;.</p>
<p>
<a name="nt-id2596129">2</a>. XMPP URI Format &lt;<a href="http://www.ietf.org/internet-drafts/draft-saintandre-xmpp-uri-05.txt">http://www.ietf.org/internet-drafts/draft-saintandre-xmpp-uri-05.txt</a>&gt; (work in progress).</p>
<p>
<a name="nt-id2596023">3</a>. RFC 2396: Uniform Resource Identifiers (URI): Generic Syntax &lt;<a href="http://www.ietf.org/rfc/rfc2396.txt">http://www.ietf.org/rfc/rfc2396.txt</a>&gt;.</p>
<p>
<a name="nt-id2596045">4</a>. JEP-0032: Jabber URI Scheme &lt;<a href="http://www.jabber.org/jeps/jep-0032.html">http://www.jabber.org/jeps/jep-0032.html</a>&gt;.</p>
<p>
<a name="nt-id2596223">5</a>. RFC 2045: Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies &lt;<a href="http://www.ietf.org/rfc/rfc2045.txt">http://www.ietf.org/rfc/rfc2045.txt</a>&gt;.</p>
<p>
<a name="nt-id2596170">6</a>. RFC 3023: XML Media Types &lt;<a href="http://www.ietf.org/rfc/rfc3023.txt">http://www.ietf.org/rfc/rfc3023.txt</a>&gt;.</p>
<p>
<a name="nt-id2596274">7</a>. JEP-0030: Service Discovery &lt;<a href="http://www.jabber.org/jeps/jep-0030.html">http://www.jabber.org/jeps/jep-0030.html</a>&gt;.</p>
<p>
<a name="nt-id2602175">8</a>. The Internet Assigned Numbers Authority (IANA) is the central coordinator for the assignment of unique parameter values for Internet protocols, such as port numbers and URI schemes. For further information, see &lt;<a href="http://www.iana.org/">http://www.iana.org/</a>&gt;.</p>
<p>
<a name="nt-id2602114">9</a>. The Jabber Registrar maintains a list of reserved Jabber protocol namespaces as well as registries of parameters used in the context of protocols approved by the Jabber Software Foundation. For further information, see &lt;<a href="http://www.jabber.org/registrar/">http://www.jabber.org/registrar/</a>&gt;.</p>
<p><hr></p>
<a name="revs"></a><h2>Revision History</h2>
<div class="indent">
<h4>Version 0.3 (2004-07-26)</h4>
<div class="indent">Formally retracted this proposal in favor of the relevant Internet-Drafts. (psa)
    </div>
<h4>Version 0.2 (2003-08-18)</h4>
<div class="indent">Added authentication example. (psa)
    </div>
<h4>Version 0.1 (2003-04-21)</h4>
<div class="indent">Initial version. (psa)
    </div>
</div>
<p><hr></p>
<p>END</p>
</body>
</html>
