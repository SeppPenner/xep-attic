<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>JEP-0059: Limiting and Paging Extension</title>
<link rel="stylesheet" type="text/css" href="jep.css">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
<meta name="DC.Title" content="Limiting and Paging Extension">
<meta name="DC.Creator" content="Jean-Louis Seguineau">
<meta name="DC.Description" content="An XMPP extension to handle generic limit specifying metadata.">
<meta name="DC.Publisher" content="Jabber Software Foundation">
<meta name="DC.Contributor" content="JEP Editor">
<meta name="DC.Date" content="2002-11-12">
<meta name="DC.Type" content="Jabber Enhancement Proposal">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="JEP-0059">
<meta name="DC.Language" content="en">
<meta name="DC.Rights" content="This Jabber Enhancement Proposal is copyright 1999 - 2005 by the Jabber Software Foundation (JSF) and is in full conformance with the JSF's Intellectual Property Rights Policy &lt;http://www.jabber.org/jsf/ipr-policy.shtml&gt;. This material may be distributed only subject to the terms and conditions set forth in the Creative Commons Attribution License (&lt;http://creativecommons.org/licenses/by/2.5/&gt;).">
</head>
<body>
<h1>JEP-0059: Limiting and Paging Extension</h1>
<p>An XMPP extension to handle generic limit specifying metadata.</p>
<p><hr></p>
<p style="color:red">WARNING: Consideration of this JEP has been Deferred by the Jabber Software Foundation. Implementation of the protocol described herein is not recommended.</p>
<p><hr></p>
<h2>JEP Information</h2>
<p class="indent">
            Status: Deferred<br>
            Type: Standards Track<br>
            Number: 0059<br>
            Version: 0.1<br>
            Last Updated: 2002-11-12<br>
            JIG: Standards JIG<br>
                Approving Body: Jabber Council<br>
                Dependencies: None<br>
                Supersedes: None<br>
                Superseded By: None<br>
            Short Name: <br>
            Wiki Page: &lt;<a href="http://wiki.jabber.org/index.php/Limiting%20and%20Paging%20Extension%20(JEP-0059)">http://wiki.jabber.org/index.php/Limiting and Paging Extension (JEP-0059)</a>&gt;
          </p>
<h2>Author Information</h2>
<div class="indent">
<h3>Jean-Louis Seguineau</h3>
<p class="indent">
        Email: jean-louis.seguineau@antepo.com<br>
        JID: jlseguineau@im.antepo.com</p>
</div>
<h2>Legal Notice</h2>
<p class="indent">This Jabber Enhancement Proposal is copyright 1999 - 2005 by the <a href="http://www.jabber.org/jsf/">Jabber Software Foundation</a> (JSF) and is in full conformance with the JSF's Intellectual Property Rights Policy &lt;<a href="http://www.jabber.org/jsf/ipr-policy.shtml">http://www.jabber.org/jsf/ipr-policy.shtml</a>&gt;. This material may be distributed only subject to the terms and conditions set forth in the Creative Commons Attribution License (&lt;<a href="http://creativecommons.org/licenses/by/2.5/">http://creativecommons.org/licenses/by/2.5/</a>&gt;).</p>
<h2>Discussion Venue</h2>
<p class="indent">The preferred venue for discussion of this document is the Standards-JIG discussion list: &lt;<a href="http://mail.jabber.org/mailman/listinfo/standards-jig">http://mail.jabber.org/mailman/listinfo/standards-jig</a>&gt;.</p>
<h2>Relation to XMPP</h2>
<p class="indent">The Extensible Messaging and Presence Protocol (XMPP) is defined in the XMPP Core (RFC 3920) and XMPP IM (RFC 3921) specifications contributed by the Jabber Software Foundation to the Internet Standards Process, which is managed by the Internet Engineering Task Force in accordance with RFC 2026. Any protocol defined in this JEP has been developed outside the Internet Standards Process and is to be understood as an extension to XMPP rather than as an evolution, development, or modification of XMPP itself.</p>
<h2>Conformance Terms</h2>
<p class="indent">The keywords "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in RFC 2119.</p>
<p><hr></p>
<h2>Table of Contents</h2>
<div class="indent"><dl>
<dt>1.  <a href="#sect-id2251758">Introduction</a>
</dt>
<dt>2.  <a href="#sect-id2251796">Requirements</a>
</dt>
<dt>3.  <a href="#sect-id2251594">Use Cases</a>
</dt>
<dl>
<dt>3.1.  <a href="#sect-id2251600">Limiting search results reply</a>
</dt>
<dt>3.2.  <a href="#sect-id2251685">Setting a Measuring Instrument</a>
</dt>
</dl>
<dt>4.  <a href="#sect-id2250532">DTD</a>
</dt>
<dt>5.  <a href="#sect-id2250541">Security Considerations</a>
</dt>
<dt>6.  <a href="#sect-id2250562">IANA Considerations</a>
</dt>
<dt>7.  <a href="#sect-id2250579">JANA Considerations</a>
</dt>
<dt>8.  <a href="#sect-id2250603">Conclusion</a>
</dt>
<dt><a href="#notes">Notes</a></dt>
<dt><a href="#revs">Revision History</a></dt>
</dl></div>
<p><hr></p>
<h2>1.
       <a name="sect-id2251758">Introduction</a>
</h2>
  <p class="" style="">There is a generic need in the protocol for specifying granular limit metadata to limit the amount of data held in a reply sent by a service. The interpretation of the metadata is entirely context specific, and outside the scope of this document. Such limits may be applied in cases like:</p>
  <ol start="" type="">
    <li>limiting the number of items returned by a search feature, and allowing a server based pagination among the results.</li>
    <li>specifying the number of items returned by a discovery service in a given category.</li>
  </ol>
<h2>2.
       <a name="sect-id2251796">Requirements</a>
</h2>
  <p class="" style="">This extension sould be embedable in any XMPP packet to represent limiting metadata.</p>
	<h2>3.
       <a name="sect-id2251594">Use Cases</a>
</h2>
		<div class="indent">
<h3>3.1 <a name="sect-id2251600">Limiting search results reply</a>
</h3>
			<p class="" style="">A user has issued the relevant info query to a search service to discover what search fields are supported by the service.</p>
			<p class="" style="">The user may then submit a search request, specifying values for any desired fields, and addding the limit metadata that it deem appropriate. In the following case we want to limit the number of returned results:</p>
			<p class="caption">Example 1. Upper Limiting a Search Request</p>
<div class="indent"><pre>
&lt;iq type='set' to='users.jabber.org' id='search2'&gt;
  &lt;query xmlns="jabber:iq:search"&gt;
    &lt;first&gt;peter&lt;/first&gt;
    &lt;x xmlns='xmpp:x:limit' &gt;
	&lt;limit type="max"&gt;20&lt;/limit&gt; 
    &lt;/x&gt;
  &lt;/query&gt;
&lt;/iq&gt;
    </pre></div>
	<p class="" style="">The service should then return a list of search results that match the values provided, but not more than 20 results</p>
	<p class="" style="">It could also be intersting to provide a way to specify a pagination behaviour for the result. In this case the user will issue its search request by specifying a starting point in the result set and a number of item to be returned in addition to the maximum number of items.</p>
	<p class="caption">Example 2. Specifying Pagination into a Search Request</p>
<div class="indent"><pre>
&lt;iq type='set' to='users.jabber.org' id='search2'&gt;
  &lt;query xmlns="jabber:iq:search"&gt;
    &lt;first&gt;peter&lt;/first&gt;
    &lt;x xmlns='xmpp:x:limit' &gt;
	&lt;limit type="max"&gt;100&lt;/limit&gt; 
	&lt;limit type="start"&gt;0&lt;/limit&gt; 
	&lt;limit type="count"&gt;10&lt;/limit&gt; 
    &lt;/x&gt;
  &lt;/query&gt;
&lt;/iq&gt;
    </pre></div>
	<p class="" style="">Subsequent requests could then be sent to the search service to change the returned items window.</p>
	<p class="caption">Example 3. Paginating into a Search Request</p>
<div class="indent"><pre>
&lt;iq type='set' to='users.jabber.org' id='search2'&gt;
  &lt;query xmlns="jabber:iq:search"&gt;
    &lt;x xmlns='xmpp:x:limit' &gt;
	&lt;limit type="start"&gt;30&lt;/limit&gt; 
	&lt;limit type="count"&gt;10&lt;/limit&gt; 
    &lt;/x&gt;
  &lt;/query&gt;
&lt;/iq&gt;
    </pre></div>
		</div>
		<div class="indent">
<h3>3.2 <a name="sect-id2251685">Setting a Measuring Instrument</a>
</h3>
			<p class="" style="">One can imagine a monitoring service, with several instruments that need to have their reading characteristics set once and a while.</p>
			<p class="" style="">A user may submit a setting instruction, specifying minimum and maximum recording values as well as sampling interval for a measuring instrument in a way similar to:</p>
			<p class="caption">Example 4. Setting a measuring instrument</p>
<div class="indent"><pre>
&lt;presence to='gage@monitor.jabber.org'&gt;
    &lt;x xmlns='xmpp:x:limit' &gt;
	&lt;limit type="min"&gt;0&lt;/limit&gt; 
	&lt;limit type="max"&gt;1000&lt;/limit&gt; 
	&lt;limit type="count"&gt;60&lt;/limit&gt; 
    &lt;/x&gt;
&lt;/presence&gt;
    </pre></div>
		</div>
	<h2>4.
       <a name="sect-id2250532">DTD</a>
</h2>
<p class="caption"></p>
<div class="indent"><pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!ELEMENT x (limit*)&gt;
&lt;!ATTLIST x
	xmlns (xmpp:x:limit) #REQUIRED
&gt;
&lt;!ELEMENT limit (#PCDATA)&gt;
&lt;!ATTLIST limit
	type (count | min | max | start | stop) #IMPLIED
&gt;
    </pre></div>
<h2>5.
       <a name="sect-id2250541">Security Considerations</a>
</h2>
  <p class="" style="">There are no security features or concerns related to this proposal.</p>
<h2>6.
       <a name="sect-id2250562">IANA Considerations</a>
</h2>
  <p class="" style="">This JEP requires no interaction with the IANA.</p>
<h2>7.
       <a name="sect-id2250579">JANA Considerations</a>
</h2>
  <p class="" style="">The namespaces needs to be registered with JANA as a result of this JEP. See Jabber Assigned Names Authority (JANA)  [<a href="#nt-id2250594">1</a>]</p>
<h2>8.
       <a name="sect-id2250603">Conclusion</a>
</h2>
  <p class="" style="">As required, the namespace is easily integrated into any existing high level element of the XMPP protocol. Again, it is only intended to provide a generic way to convey metadata that will influence or limit the behaviour of another XMPP namespace. The meaning and behaviour of the receiving service is entirely implementation dependent.</p>
<p><hr></p>
<a name="notes"></a><h2>Notes</h2>
<div class="indent"><p><a name="nt-id2250594">1</a>. <a href="http://www.jabber.org/jana/">http://www.jabber.org/jana/</a></p></div>
<p><hr></p>
<a name="revs"></a><h2>Revision History</h2>
<div class="indent">
<h4>Version 0.1 (2002-11-12)</h4>
<div class="indent">Initial version. (jls)
    </div>
</div>
<p><hr></p>
<p>END</p>
</body>
</html>
